<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å†¯å¤©é¹¤&#39;s Blog</title>
  
  <subtitle>ã€Œä¸å¿˜åˆå¿ƒæ–¹å¾—å§‹ç»ˆã€</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://fengtianhe.cn/"/>
  <updated>2019-11-07T02:22:22.706Z</updated>
  <id>http://fengtianhe.cn/</id>
  
  <author>
    <name>å†¯å¤©é¹¤</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Javascript Text Different</title>
    <link href="http://fengtianhe.cn/Javascript-textDifferent/"/>
    <id>http://fengtianhe.cn/Javascript-textDifferent/</id>
    <published>2019-11-07T02:18:37.000Z</published>
    <updated>2019-11-07T02:22:22.706Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å®ç°å·¥å•†ä¿¡æ¯å˜æ›´æ ·å¼</p></blockquote><p>æ•ˆæœå›¾ï¼š<br><img src="/images/js_text_diff.png" alt=""></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">diff</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">let</span> oldStr = <span class="string">'æŠ€æœ¯å¼€å‘ã€æŠ€æœ¯æ¨å¹¿ã€æŠ€æœ¯å’¨è¯¢ã€æŠ€æœ¯æœåŠ¡ï¼›è½¯ä»¶å¼€å‘ï¼›ç»„ç»‡æ–‡åŒ–è‰ºæœ¯äº¤æµæ´»åŠ¨ï¼ˆä¸å«æ¼”å‡ºï¼‰ï¼›æ‰¿åŠå±•è§ˆå±•ç¤ºï¼›é”€å”®æ–°é²œè”¬èœã€æ–°é²œæ°´æœã€æ–‡åŒ–ç”¨å“ã€å·¥è‰ºå“ã€æ—¥ç”¨å“ã€å¨æˆ¿ç”¨å…·ï¼›é›¶å”®ç”µå­äº§å“ã€‚ä¾æ³•é¡»ç»æ‰¹å‡†çš„é¡¹ç›®ï¼Œç»ç›¸å…³éƒ¨é—¨æ‰¹å‡†åä¾æ‰¹å‡†çš„å†…å®¹å¼€å±•ç»è¥æ´»åŠ¨ã€‚'</span></span><br><span class="line"><span class="keyword">let</span> newStr = <span class="string">'é”€å”®é£Ÿå“ã€‚æŠ€æœ¯å¼€å‘ã€æŠ€æœ¯æ¨å¹¿ã€æŠ€æœ¯å’¨è¯¢ã€æŠ€æœ¯æœåŠ¡ï¼›è½¯ä»¶å¼€å‘ï¼›ç»„ç»‡æ–‡åŒ–è‰ºæœ¯äº¤æµæ´»åŠ¨ï¼ˆä¸å«æ¼”å‡ºï¼‰ï¼›æ‰¿åŠå±•è§ˆå±•ç¤ºï¼›é”€å”®æ–‡åŒ–ç”¨å“ã€å·¥è‰ºå“ã€æ—¥ç”¨å“ã€å¨æˆ¿ç”¨å…·ã€é”€å”®é£Ÿå“ä»¥åŠä¾æ³•é¡»ç»æ‰¹å‡†çš„é¡¹ç›®ï¼Œç»ç›¸å…³éƒ¨é—¨æ‰¹å‡†åä¾æ‰¹å‡†çš„å†…å®¹å¼€å±•ç»è¥æ´»åŠ¨ã€‚'</span></span><br><span class="line">       <span class="comment">// é€šè¿‡ç¬¦å·åˆ†å‰²æˆæ•°ç»„</span></span><br><span class="line"><span class="keyword">let</span> oldStrArr = oldStr.split(<span class="regexp">/[ã€ï¼›ï¼Œã€‚]/</span>)</span><br><span class="line"><span class="keyword">let</span> diffNewStr = newStr</span><br><span class="line">       <span class="comment">// å°†å®Œå…¨ç›¸åŒçš„éƒ¨åˆ†æ›¿æ¢æ‰</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">of</span> oldStrArr)&#123;</span><br><span class="line">diffNewStr = diffNewStr.replace(key, <span class="string">''</span>)</span><br><span class="line">&#125;</span><br><span class="line">       <span class="comment">// å»é™¤æ–°å­—ç¬¦ä¸²ä¸­æ›¿æ¢æ‰çš„ç©ºå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">let</span> diffNewArr = diffNewStr.split(<span class="regexp">/[ã€ï¼›ï¼Œã€‚]/</span>).filter(<span class="function"><span class="params">item</span> =&gt;</span> &#123;<span class="keyword">return</span> !!item&#125;)</span><br><span class="line"><span class="keyword">let</span> strWithDiff = <span class="string">''</span></span><br><span class="line">       <span class="comment">// å°†æ–°çš„å­—ç¬¦ä¸²ä¸­ä¸åŒçš„éƒ¨åˆ†æ ‡çº¢</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> addStr <span class="keyword">of</span> diffNewArr)&#123;</span><br><span class="line">strWithDiff = newStr.replace(addStr, <span class="string">`&lt;span style="color:red"&gt;<span class="subst">$&#123;addStr&#125;</span>&lt;/span&gt;`</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> strWithDiff</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;å®ç°å·¥å•†ä¿¡æ¯å˜æ›´æ ·å¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ•ˆæœå›¾ï¼š&lt;br&gt;&lt;img src=&quot;/images/js_text_diff.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;
      
    
    </summary>
    
    
      <category term="Javascript" scheme="http://fengtianhe.cn/tags/Javascript/"/>
    
  </entry>
  
  <entry>
    <title>ReactNative-ç»„ä»¶React-Native-Camera</title>
    <link href="http://fengtianhe.cn/ReactNative-%E7%BB%84%E4%BB%B6react-native-camera/"/>
    <id>http://fengtianhe.cn/ReactNative-ç»„ä»¶react-native-camera/</id>
    <published>2019-09-09T03:28:27.000Z</published>
    <updated>2019-11-07T01:56:39.303Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ReactNativeç‰ˆæœ¬-lt-0-60-0"><a href="#ReactNativeç‰ˆæœ¬-lt-0-60-0" class="headerlink" title="ReactNativeç‰ˆæœ¬ &lt; 0.60.0"></a>ReactNativeç‰ˆæœ¬ &lt; 0.60.0</h3><h4 id="1-1ã€å®‰è£…-react-native-camera-2-9-0-ç‰ˆæœ¬"><a href="#1-1ã€å®‰è£…-react-native-camera-2-9-0-ç‰ˆæœ¬" class="headerlink" title="1.1ã€å®‰è£…  `react-native-camera@2.9.0` ç‰ˆæœ¬"></a>1.1ã€å®‰è£…  <a href="mailto:`react-native-camera@2.9.0">`react-native-camera@2.9.0</a>` ç‰ˆæœ¬</h4><p>å°† <code>missingDimensionStrategy &#39;react-native-camera&#39;, &#39;general&#39;</code> åŠ å…¥åˆ° android/app/build.gradle ä¸­<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">android &#123;</span><br><span class="line">    ...</span><br><span class="line">    defaultConfig &#123;</span><br><span class="line">        ...</span><br><span class="line">        missingDimensionStrategy <span class="string">'react-native-camera'</span>, <span class="string">'mlkit'</span></span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="1-2ã€ä¿®æ”¹-android-build-gradle-ä¸­çš„-classpath"><a href="#1-2ã€ä¿®æ”¹-android-build-gradle-ä¸­çš„-classpath" class="headerlink" title="1.2ã€ä¿®æ”¹ android/build.gradle ä¸­çš„ classpath"></a>1.2ã€ä¿®æ”¹ <code>android/build.gradle</code> ä¸­çš„ classpath</h4><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">buildscript</span> &#123;</span><br><span class="line">    ext &#123;</span><br><span class="line">        buildToolsVersion = <span class="string">"28.0.3"</span></span><br><span class="line">        minSdkVersion = <span class="number">16</span></span><br><span class="line">        compileSdkVersion = <span class="number">28</span></span><br><span class="line">        targetSdkVersion = <span class="number">28</span></span><br><span class="line">        supportLibVersion = <span class="string">"28.0.0"</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">repositories</span> &#123;</span><br><span class="line">        google()</span><br><span class="line">        jcenter()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">dependencies</span> &#123;</span><br><span class="line">        <span class="comment">// æ³¨æ„è¿™é‡Œçš„ç‰ˆæœ¬</span></span><br><span class="line">        <span class="keyword">classpath</span>(<span class="string">'com.android.tools.build:gradle:3.3.0'</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// <span class="doctag">NOTE:</span> Do not place your application dependencies here; they belong</span></span><br><span class="line">        <span class="comment">// in the individual module build.gradle files</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">allprojects</span> &#123;</span><br><span class="line">    <span class="keyword">repositories</span> &#123;</span><br><span class="line">        mavenLocal()</span><br><span class="line">        google()</span><br><span class="line">        jcenter()</span><br><span class="line">        maven &#123;</span><br><span class="line">            <span class="comment">// All of React Native (JS, Obj-C sources, Android binaries) is installed from npm</span></span><br><span class="line">            url <span class="string">"$rootDir/../node_modules/react-native/android"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-3ã€ä¿®æ”¹-android-gradle-wrapper-gradle-wrapper-properties-ä¸­çš„-gradle-version"><a href="#1-3ã€ä¿®æ”¹-android-gradle-wrapper-gradle-wrapper-properties-ä¸­çš„-gradle-version" class="headerlink" title="1.3ã€ä¿®æ”¹ android/gradle/wrapper/gradle-wrapper.properties ä¸­çš„ gradle version"></a>1.3ã€ä¿®æ”¹ android/gradle/wrapper/gradle-wrapper.properties ä¸­çš„ gradle version</h4><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">distributionUrl=https\<span class="symbol">://services</span>.gradle.org/distributions/gradle-<span class="number">4.10</span>.<span class="number">1</span>-all.zip</span><br></pre></td></tr></table></figure><h4 id="1-4ã€ä¿®æ”¹æ‰“åŒ…é…ç½®-app-build-gradle"><a href="#1-4ã€ä¿®æ”¹æ‰“åŒ…é…ç½®-app-build-gradle" class="headerlink" title="1.4ã€ä¿®æ”¹æ‰“åŒ…é…ç½® app/build.gradle"></a>1.4ã€ä¿®æ”¹æ‰“åŒ…é…ç½® <code>app/build.gradle</code></h4><figure class="highlight puppet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">android</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    packagingOptions &#123;</span><br><span class="line">        <span class="literal">exclude</span> <span class="string">'META-INF/proguard/androidx-annotations.pro'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="ä½¿ç”¨react-native-cameraæ‰«ç "><a href="#ä½¿ç”¨react-native-cameraæ‰«ç " class="headerlink" title="ä½¿ç”¨react-native-cameraæ‰«ç "></a>ä½¿ç”¨react-native-cameraæ‰«ç </h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React from <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> &#123;RNCamera&#125; from <span class="string">"react-native-camera"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;Animated, Easing, Modal, Platform, StyleSheet, Text, Vibration, View&#125; from <span class="string">'react-native'</span></span><br><span class="line"><span class="keyword">import</span> PropType from <span class="string">'prop-types'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> Sound = require(<span class="string">'react-native-sound'</span>);</span><br><span class="line">Sound.setCategory(<span class="string">'Playback'</span>);</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Scanner</span> <span class="title">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  static propTypes = &#123;</span><br><span class="line">    visible: PropType.bool.isRequired,</span><br><span class="line">    onClose: PropType.func.isRequired,</span><br><span class="line">    onScanSuccess: PropType.func</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span> (props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;</span><br><span class="line">      moveAnim: new Animated.Value(<span class="number">0</span>),</span><br><span class="line">      code: <span class="string">''</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidMount () &#123;</span><br><span class="line">    <span class="keyword">this</span>.startAnimation();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  startAnimation = () =&gt; &#123;</span><br><span class="line">    <span class="keyword">this</span>.state.moveAnim.setValue(<span class="number">0</span>);</span><br><span class="line">    Animated.timing(</span><br><span class="line">      <span class="keyword">this</span>.state.moveAnim,</span><br><span class="line">      &#123;</span><br><span class="line">        toValue: <span class="number">-200</span>,</span><br><span class="line">        duration: <span class="number">5000</span>,</span><br><span class="line">        easing: Easing.linear</span><br><span class="line">      &#125;</span><br><span class="line">    ).start(() =&gt; <span class="keyword">this</span>.startAnimation());</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//  è¯†åˆ«äºŒç»´ç </span></span><br><span class="line">  onBarCodeRead = (result) =&gt; &#123;</span><br><span class="line">    const &#123;<span class="keyword">data</span>&#125; = result;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">data</span> &amp;&amp; !<span class="keyword">this</span>.state.code) &#123;</span><br><span class="line">      <span class="keyword">this</span>.setState(&#123;code: <span class="keyword">data</span>&#125;)</span><br><span class="line"></span><br><span class="line">      <span class="comment">// æ‰«ç æç¤ºéŸ³</span></span><br><span class="line">      <span class="keyword">var</span> whoosh = new Sound(<span class="string">'scanner.mp3'</span>, Sound.MAIN_BUNDLE, (error) =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> (error) &#123;</span><br><span class="line">          console.log(<span class="string">'failed to load the sound'</span>, error);</span><br><span class="line">          <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// loaded successfully</span></span><br><span class="line">        console.log(<span class="string">'duration in seconds: '</span> + whoosh.getDuration() + <span class="string">'number of channels: '</span> + whoosh.getNumberOfChannels());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Play the sound with an onEnd callback</span></span><br><span class="line">        whoosh.play((success) =&gt; &#123;</span><br><span class="line">          <span class="keyword">if</span> (success) &#123;</span><br><span class="line">            whoosh.pause()</span><br><span class="line">            console.log(<span class="string">'scan qr result =&gt; '</span>, <span class="keyword">data</span>)</span><br><span class="line">            <span class="keyword">this</span>.props.onScanSuccess &amp;&amp; <span class="keyword">this</span>.props.onScanSuccess(<span class="keyword">data</span>)</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            console.log(<span class="string">'playback failed due to audio decoding errors'</span>);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">      whoosh.setNumberOfLoops(<span class="number">1</span>);</span><br><span class="line">      whoosh.release();</span><br><span class="line"></span><br><span class="line">      <span class="comment">//æ‰‹æœºæŒ¯åŠ¨</span></span><br><span class="line">      <span class="keyword">if</span> (Platform.OS === <span class="string">'ios'</span>) &#123;</span><br><span class="line">        Vibration.vibrate(<span class="number">100</span>, <span class="literal">false</span>)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        Vibration.vibrate([<span class="number">0</span>, <span class="number">100</span>], <span class="literal">false</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  render () &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;Modal</span><br><span class="line">        visible=&#123;<span class="keyword">this</span>.props.visible&#125;</span><br><span class="line">        onRequestClose=&#123;<span class="keyword">this</span>.props.onClose&#125;</span><br><span class="line">      &gt;</span><br><span class="line">        &lt;View style=&#123;styles.container&#125;&gt;</span><br><span class="line">          &lt;RNCamera</span><br><span class="line">            ref=&#123;ref =&gt; &#123;</span><br><span class="line">              <span class="keyword">this</span>.camera = ref;</span><br><span class="line">            &#125;&#125;</span><br><span class="line">            style=&#123;styles.preview&#125;</span><br><span class="line">            type=&#123;RNCamera.Constants.Type.back&#125;</span><br><span class="line">            flashMode=&#123;RNCamera.Constants.FlashMode.on&#125;</span><br><span class="line">            onBarCodeRead=&#123;<span class="keyword">this</span>.onBarCodeRead&#125;</span><br><span class="line">          &gt;</span><br><span class="line">            &lt;View style=&#123;styles.rectangleContainer&#125;&gt;</span><br><span class="line">              &lt;View style=&#123;styles.rectangle&#125;/&gt;</span><br><span class="line">              &lt;Animated.View style=&#123;[</span><br><span class="line">                styles.border,</span><br><span class="line">                &#123;transform: [&#123;translateY: <span class="keyword">this</span>.state.moveAnim&#125;]&#125;]&#125;/&gt;</span><br><span class="line">              &lt;Text style=&#123;styles.rectangleText&#125;&gt;å°†äºŒç»´ç /æ¡ç æ”¾å…¥æ¡†å†…ï¼Œå³å¯è‡ªåŠ¨æ‰«æ&lt;/Text&gt;</span><br><span class="line">            &lt;/View&gt;</span><br><span class="line">          &lt;/RNCamera&gt;</span><br><span class="line">        &lt;/View&gt;</span><br><span class="line">      &lt;/Modal&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const styles = StyleSheet.create(&#123;</span><br><span class="line">  container: &#123;</span><br><span class="line">    flex: <span class="number">1</span>,</span><br><span class="line">    flexDirection: <span class="string">'row'</span>,</span><br><span class="line">    width: <span class="string">'100%'</span>,</span><br><span class="line">    height: <span class="string">'100%'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  preview: &#123;</span><br><span class="line">    flex: <span class="number">1</span>,</span><br><span class="line">    justifyContent: <span class="string">'flex-end'</span>,</span><br><span class="line">    alignItems: <span class="string">'center'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  rectangleContainer: &#123;</span><br><span class="line">    flex: <span class="number">1</span>,</span><br><span class="line">    alignItems: <span class="string">'center'</span>,</span><br><span class="line">    justifyContent: <span class="string">'center'</span>,</span><br><span class="line">    backgroundColor: <span class="string">'transparent'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  rectangle: &#123;</span><br><span class="line">    height: <span class="number">200</span>,</span><br><span class="line">    width: <span class="number">200</span>,</span><br><span class="line">    borderWidth: <span class="number">1</span>,</span><br><span class="line">    borderColor: <span class="string">'#00FF00'</span>,</span><br><span class="line">    backgroundColor: <span class="string">'transparent'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  rectangleText: &#123;</span><br><span class="line">    flex: <span class="number">0</span>,</span><br><span class="line">    color: <span class="string">'#fff'</span>,</span><br><span class="line">    marginTop: <span class="number">10</span></span><br><span class="line">  &#125;,</span><br><span class="line">  border: &#123;</span><br><span class="line">    flex: <span class="number">0</span>,</span><br><span class="line">    width: <span class="number">200</span>,</span><br><span class="line">    height: <span class="number">2</span>,</span><br><span class="line">    backgroundColor: <span class="string">'#00FF00'</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">export <span class="keyword">default</span> Scanner</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;ReactNativeç‰ˆæœ¬-lt-0-60-0&quot;&gt;&lt;a href=&quot;#ReactNativeç‰ˆæœ¬-lt-0-60-0&quot; class=&quot;headerlink&quot; title=&quot;ReactNativeç‰ˆæœ¬ &amp;lt; 0.60.0&quot;&gt;&lt;/a&gt;ReactNativeç‰ˆæœ¬ &amp;
      
    
    </summary>
    
      <category term="fe" scheme="http://fengtianhe.cn/categories/fe/"/>
    
    
      <category term="ReactNative" scheme="http://fengtianhe.cn/tags/ReactNative/"/>
    
      <category term="node_modules" scheme="http://fengtianhe.cn/tags/node-modules/"/>
    
  </entry>
  
  <entry>
    <title>PHP-Composerå›½å†…é•œåƒ</title>
    <link href="http://fengtianhe.cn/PHP-Composer%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F/"/>
    <id>http://fengtianhe.cn/PHP-Composerå›½å†…é•œåƒ/</id>
    <published>2019-08-14T03:31:26.000Z</published>
    <updated>2019-11-07T01:56:39.286Z</updated>
    
    <content type="html"><![CDATA[<h3 id="åŠ é€ŸåŸç†"><a href="#åŠ é€ŸåŸç†" class="headerlink" title="åŠ é€ŸåŸç†"></a>åŠ é€ŸåŸç†</h3><hr><p>Composer å®‰è£…æ—¶å€™ä¼šå‘å›½å¤–çš„ Packagist æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œå› ä¸ºä¼—æ‰€å‘¨çŸ¥çš„åŸå› ï¼Œå›½å†…è¯·æ±‚å›½å¤–æœåŠ¡å™¨ï¼Œæœ‰æ—¶ä¼šå‡ºç°ä¸ç¨³å®šç”šè‡³ä¸å¯ç”¨çš„æƒ…å†µã€‚</p><p>é•œåƒåŠ é€Ÿå°±æ˜¯æŠŠå›½å¤–çš„æ•°æ®ç¼“å­˜åˆ°å›½å†…çš„æœåŠ¡å™¨ä¸Šï¼ŒComposer å®¢æˆ·ç«¯åªéœ€é…ç½®æœåŠ¡å™¨ä¸ºå›½å†…çš„æœåŠ¡å™¨ï¼Œå³å¯ä»å›½å†…æœåŠ¡å™¨ä¸Šä¸‹è½½ï¼Œç¨³å®šæ€§ä¼šæœ‰å¾ˆé«˜çš„æå‡ã€‚</p><h3 id="è¦ç‚¹ä¸€ï¼šå…¨é‡ä¸éå…¨é‡é•œåƒ"><a href="#è¦ç‚¹ä¸€ï¼šå…¨é‡ä¸éå…¨é‡é•œåƒ" class="headerlink" title="è¦ç‚¹ä¸€ï¼šå…¨é‡ä¸éå…¨é‡é•œåƒ"></a>è¦ç‚¹ä¸€ï¼šå…¨é‡ä¸éå…¨é‡é•œåƒ</h3><hr><p>Composer å®‰è£…æ‰©å±•åŒ…çš„æ—¶å€™ï¼Œä¸€èˆ¬ä¼šå‘èµ·ä¸¤ç§è¯·æ±‚ï¼š</p><p>JSON è¯·æ±‚ â€”â€” æ‰©å±•åŒ…å…ƒä¿¡æ¯ï¼ŒåŒ…æ‹¬ zip åŒ…çš„ä¸‹è½½é“¾æ¥ï¼›<br>Zip åŒ…è¯·æ±‚ â€”â€” æ‰©å±•åŒ…æºç å‹ç¼©åŒ…ã€‚<br>å…¨é‡é•œåƒæŒ‡çš„æ˜¯ä»¥ä¸Šä¸¤ç§è¯·æ±‚éƒ½ä½¿ç”¨å›½å†…æœåŠ¡å™¨åŠ é€Ÿã€‚è€Œéå…¨é‡æœåŠ¡å™¨ä¸€èˆ¬åªç¼“å­˜ JSON æ•°æ®ã€‚</p><h3 id="è¦ç‚¹äºŒã€æ›´æ–°æ—¶é—´"><a href="#è¦ç‚¹äºŒã€æ›´æ–°æ—¶é—´" class="headerlink" title="è¦ç‚¹äºŒã€æ›´æ–°æ—¶é—´"></a>è¦ç‚¹äºŒã€æ›´æ–°æ—¶é—´</h3><hr><p>å½“ä¸€ä¸ª PHP æ‰©å±•åŒ…ä» GitHub ä¸Šå‘å¸ƒæ–°ç‰ˆæœ¬çš„æ—¶å€™ï¼ŒPackagist.org ä¸Šä¼šæ¥æ”¶åˆ°å›è°ƒå¹¶è®°å½•æ–°ç‰ˆæœ¬çš„ä¿¡æ¯ã€‚ä¸ GitHub çš„å›è°ƒç›¸æ¯”ï¼Œå›½å†…é•œåƒåªèƒ½é€šè¿‡ä¸»åŠ¨è¯·æ±‚ Packagist.org çš„æ–¹å¼æ¥è·å–æ›´æ–°çš„æ‰©å±•åŒ…ç‰ˆæœ¬ã€‚</p><p>æ›´æ–°æ—¶é—´æŒ‡çš„æ˜¯å›½å†…é•œåƒæœåŠ¡å™¨æ›´æ–°è¯·æ±‚çš„é¢‘ç‡ï¼Œæ„å‘³ç€å½“ä½ åœ¨ GitHub ä¸Šå‘å¸ƒäº†æ–°ç‰ˆæœ¬ï¼Œæ­¤æ–°ç‰ˆæœ¬éœ€è¦å¤šé•¿æ—¶é—´æ‰èƒ½åœ¨å›½å†…çš„é•œåƒæœåŠ¡å™¨ä¸Šå‡ºç°ã€‚</p><p>æ•…æ›´æ–°æ—¶é—´è¶ŠçŸ­è¶Šå¥½ã€‚</p><h3 id="é˜¿é‡Œäº‘-Composer-å…¨é‡é•œåƒï¼ˆæ¨èï¼‰"><a href="#é˜¿é‡Œäº‘-Composer-å…¨é‡é•œåƒï¼ˆæ¨èï¼‰" class="headerlink" title="é˜¿é‡Œäº‘ Composer å…¨é‡é•œåƒï¼ˆæ¨èï¼‰"></a>é˜¿é‡Œäº‘ Composer å…¨é‡é•œåƒï¼ˆæ¨èï¼‰</h3><hr><p>é•œåƒç±»å‹ï¼šå…¨é‡é•œåƒ<br>æ›´æ–°æ—¶é—´ï¼š1 åˆ†é’Ÿ<br>é•œåƒåœ°å€ï¼š<a href="https://mirrors.aliyun.com/composer/">https://mirrors.aliyun.com/composer/</a><br>å®˜æ–¹åœ°å€ï¼š<a href="https://developer.aliyun.com/composer">https://developer.aliyun.com/composer</a><br>é•œåƒè¯´æ˜ï¼šé˜¿é‡Œäº‘ CDN åŠ é€Ÿï¼Œæ›´æ–°é€Ÿåº¦å¿«ï¼Œæ¨èä½¿ç”¨</p><h3 id="å®‰ç•…ç½‘ç»œé•œåƒ"><a href="#å®‰ç•…ç½‘ç»œé•œåƒ" class="headerlink" title="å®‰ç•…ç½‘ç»œé•œåƒ"></a>å®‰ç•…ç½‘ç»œé•œåƒ</h3><hr><p>é•œåƒç±»å‹ï¼šå…¨é‡é•œåƒ<br>æ›´æ–°æ—¶é—´ï¼š1 åˆ†é’Ÿ<br>é•œåƒåœ°å€ï¼š<a href="https://php.cnpkg.org">https://php.cnpkg.org</a><br>å®˜æ–¹åœ°å€ï¼š<a href="https://php.cnpkg.org/">https://php.cnpkg.org/</a><br>é•œåƒè¯´æ˜ï¼šæ­¤ Composer é•œåƒç”±å®‰ç•…ç½‘ç»œèµåŠ©ï¼Œç›®å‰æ”¯æŒå…ƒæ•°æ®ã€ä¸‹è½½åŒ…å…¨é‡ä»£ç†ã€‚</p><h3 id="äº¤é€šå¤§å­¦é•œåƒ"><a href="#äº¤é€šå¤§å­¦é•œåƒ" class="headerlink" title="äº¤é€šå¤§å­¦é•œåƒ"></a>äº¤é€šå¤§å­¦é•œåƒ</h3><hr><p>é•œåƒç±»å‹ï¼šéå…¨é‡é•œåƒ<br>é•œåƒåœ°å€ï¼š<a href="https://packagist.mirrors.sjtug.sjtu.edu.c...\">https://packagist.mirrors.sjtug.sjtu.edu.c...\</a><br>å®˜æ–¹åœ°å€ï¼š<a href="https://mirrors.sjtug.sjtu.edu.cn/packagis...\">https://mirrors.sjtug.sjtu.edu.cn/packagis...\</a><br>é•œåƒè¯´æ˜ï¼šä¸Šæµ·äº¤é€šå¤§å­¦æä¾›çš„ composer é•œåƒï¼Œç¨³å®šã€å¿«é€Ÿã€ç°ä»£çš„é•œåƒæœåŠ¡ï¼Œæ¨èä½¿ç”¨ã€‚</p><h3 id="Laravel-China-é•œåƒï¼ˆdeprecatedï¼‰"><a href="#Laravel-China-é•œåƒï¼ˆdeprecatedï¼‰" class="headerlink" title="Laravel China é•œåƒï¼ˆdeprecatedï¼‰"></a>Laravel China é•œåƒï¼ˆdeprecatedï¼‰</h3><hr><p>é•œåƒç±»å‹ï¼šå…¨é‡é•œåƒ<br>æ›´æ–°æ—¶é—´ï¼š10 åˆ†é’Ÿ<br>é•œåƒåœ°å€ï¼š<a href="https://packagist.laravel-china.org">https://packagist.laravel-china.org</a><br>å®˜æ–¹åœ°å€ï¼šé•œåƒè¯¦æƒ…<br>é•œåƒè¯´æ˜ï¼šLaravel China ç¤¾åŒºé•œåƒï¼Œå°†äº 2019 å¹´ 9 æœˆ 4 å·åœç”¨ã€‚è¯¦è§ï¼šåšå®¢ï¼šLaravel China é•œåƒå®Œæˆå†å²ä½¿å‘½ï¼Œå°†äºä¸¤ä¸ªæœˆååœç”¨</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;åŠ é€ŸåŸç†&quot;&gt;&lt;a href=&quot;#åŠ é€ŸåŸç†&quot; class=&quot;headerlink&quot; title=&quot;åŠ é€ŸåŸç†&quot;&gt;&lt;/a&gt;åŠ é€ŸåŸç†&lt;/h3&gt;&lt;hr&gt;
&lt;p&gt;Composer å®‰è£…æ—¶å€™ä¼šå‘å›½å¤–çš„ Packagist æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œå› ä¸ºä¼—æ‰€å‘¨çŸ¥çš„åŸå› ï¼Œå›½å†…è¯·æ±‚å›½å¤–æœåŠ¡å™¨ï¼Œ
      
    
    </summary>
    
      <category term="rd" scheme="http://fengtianhe.cn/categories/rd/"/>
    
    
      <category term="PHP" scheme="http://fengtianhe.cn/tags/PHP/"/>
    
      <category term="Composer" scheme="http://fengtianhe.cn/tags/Composer/"/>
    
  </entry>
  
  <entry>
    <title>PHPå·¥å…·å‡½æ•°-å›¾ç‰‡å·¥å…·-ç”Ÿæˆå¾®ä¿¡åˆ†äº«å›¾ç‰‡</title>
    <link href="http://fengtianhe.cn/PHP%E5%B7%A5%E5%85%B7%E5%87%BD%E6%95%B0-%E5%9B%BE%E7%89%87%E5%B7%A5%E5%85%B7-%E7%94%9F%E6%88%90%E5%BE%AE%E4%BF%A1%E5%88%86%E4%BA%AB%E5%9B%BE%E7%89%87/"/>
    <id>http://fengtianhe.cn/PHPå·¥å…·å‡½æ•°-å›¾ç‰‡å·¥å…·-ç”Ÿæˆå¾®ä¿¡åˆ†äº«å›¾ç‰‡/</id>
    <published>2019-08-13T11:45:06.000Z</published>
    <updated>2019-11-07T01:56:39.288Z</updated>
    
    <content type="html"><![CDATA[<p>å…ˆä¸Šæ•ˆæœå›¾<br><img src="/images/20190813-1.jpeg" alt="å¾®ä¿¡åˆ†äº«è‡ªå®šä¹‰å›¾ç‰‡"></p><p>ç”¨åˆ°çš„å‡½æ•°<br><code>getimagesize()</code><br><code>imagecreatetruecolor()</code><br><code>imagecreatefromjpeg()</code><br><code>imagecopyresized()</code><br><code>imagecreatefrompng()</code><br><code>imagealphablending()</code><br><code>imagesavealpha()</code><br><code>imagecopy()</code><br><code>imagecolorallocate()</code><br><code>imagettftext()</code></p><hr><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–è¿œç¨‹å›¾ç‰‡</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> $file</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> $from</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get_file</span><span class="params">($file, $from)</span> </span>&#123;</span><br><span class="line">    file_put_contents(sys_get_temp_dir() . <span class="string">"/"</span> . $file, file_get_contents($from));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åˆæˆå›¾ç‰‡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">test_merge_image</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å°†ä¸¤ä¸ªè¿œç¨‹çš„å›¾ç‰‡å­˜åˆ°æœ¬åœ°ä¸´æ—¶æ–‡ä»¶å¤¹</span></span><br><span class="line">    <span class="keyword">$this</span>-&gt;get_file(<span class="string">'egg'</span>, <span class="string">'https://goods-image.qiniu.cainiaoshicai.cn/Fg1pPDcuBpeSqA1L7OOyIjY4b470'</span>);</span><br><span class="line">    <span class="keyword">$this</span>-&gt;get_file(<span class="string">'date'</span>, <span class="string">'http://cm-images.cainiaoshicai.cn/wxminiapp/image/pricecontainer.png'</span>);</span><br><span class="line"></span><br><span class="line">    $bannerimg = sys_get_temp_dir() . <span class="string">'/egg'</span>;</span><br><span class="line">    $bottom = sys_get_temp_dir() . <span class="string">'/date'</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–å›¾ç‰‡åŸå¼</span></span><br><span class="line">    <span class="keyword">list</span>($width, $height) = getimagesize($bannerimg);</span><br><span class="line">    <span class="comment">// åˆ›å»ºå¾®ä¿¡5:4çš„ç”»å¸ƒ</span></span><br><span class="line">    $thumb = imagecreatetruecolor(<span class="number">800</span>, <span class="number">640</span>);</span><br><span class="line"></span><br><span class="line">    $image_1 = imagecreatefromjpeg($bannerimg);</span><br><span class="line">    <span class="comment">// æ”¹å˜èƒŒæ™¯å›¾å¤§å° å¹¶ç”»åˆ°ç”»å¸ƒä¸Š</span></span><br><span class="line">    imagecopyresized($thumb, $image_1, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">800</span>, <span class="number">640</span>, $width, $height);</span><br><span class="line"></span><br><span class="line">    $image_2 = imagecreatefrompng($bottom);</span><br><span class="line"></span><br><span class="line">    imagealphablending($thumb, <span class="keyword">true</span>);</span><br><span class="line">    imagesavealpha($thumb, <span class="keyword">true</span>);</span><br><span class="line">    <span class="comment">// å°†åº•éƒ¨å›¾ç‰‡ æ”¾åˆ°å›¾ç‰‡ä¸Š</span></span><br><span class="line">    imagecopy($thumb, $image_2, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">160</span>, <span class="number">800</span>, <span class="number">800</span>);</span><br><span class="line"></span><br><span class="line">    $textColor = imagecolorallocate($thumb, <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line">    $black = imagecolorallocate($thumb, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¾€å›¾ç‰‡ä¸Šå†™æ–‡å­— *.otf *.ttf éƒ½æ˜¯å­—ä½“æ–‡ä»¶</span></span><br><span class="line">    imagettftext($thumb, <span class="number">40</span>, <span class="number">0</span>, <span class="number">40</span>, <span class="number">600</span>, $textColor, sys_get_temp_dir() . <span class="string">'a.otf'</span>, <span class="string">'ï¿¥'</span>);</span><br><span class="line">    imagettftext($thumb, <span class="number">60</span>, <span class="number">0</span>, <span class="number">90</span>, <span class="number">600</span>, $textColor, sys_get_temp_dir() . <span class="string">'b.ttf'</span>, <span class="string">'23.50'</span>);</span><br><span class="line"></span><br><span class="line">    imagettftext($thumb, <span class="number">30</span>, <span class="number">0</span>, <span class="number">330</span>, <span class="number">596</span>, $textColor, sys_get_temp_dir() . <span class="string">'a.otf'</span>, <span class="string">'ï¿¥'</span> . number_format(<span class="string">'23.50'</span> * <span class="number">1.2</span>, <span class="number">2</span>));</span><br><span class="line">    imagettftext($thumb, <span class="number">30</span>, <span class="number">0</span>, <span class="number">335</span>, <span class="number">592</span>, $textColor, sys_get_temp_dir() . <span class="string">'a.otf'</span>, <span class="string">'â€”â€”â€”â€”'</span>);</span><br><span class="line"></span><br><span class="line">    imagettftext($thumb, <span class="number">30</span>, <span class="number">0</span>, <span class="number">570</span>, <span class="number">600</span>, $black, sys_get_temp_dir() . <span class="string">'a.otf'</span>, <span class="string">'é”€é‡20076'</span>);</span><br><span class="line">    <span class="comment">// è¾“å‡ºå›¾ç‰‡æ ¼å¼çš„å“åº”</span></span><br><span class="line">    header(<span class="string">'Content-type: image/png;charset=utf-8'</span>);</span><br><span class="line">    <span class="comment">// ç”Ÿæˆå›¾ç‰‡ ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥ä¼ æœ¬åœ°è·¯å¾„</span></span><br><span class="line">    imagepng($thumb);</span><br><span class="line">    <span class="comment">// é”€æ¯å›¾ç‰‡</span></span><br><span class="line">    imagedestroy($thumb);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–å›¾ç‰‡æ‹“å±•å</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">test_image_extension</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">$this</span>-&gt;autoRender = <span class="keyword">false</span>;</span><br><span class="line">    print_r(getimagesize(<span class="string">'https://goods-image.qiniu.cainiaoshicai.cn/Fg1pPDcuBpeSqA1L7OOyIjY4b470'</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å…ˆä¸Šæ•ˆæœå›¾&lt;br&gt;&lt;img src=&quot;/images/20190813-1.jpeg&quot; alt=&quot;å¾®ä¿¡åˆ†äº«è‡ªå®šä¹‰å›¾ç‰‡&quot;&gt;&lt;/p&gt;
&lt;p&gt;ç”¨åˆ°çš„å‡½æ•°&lt;br&gt;&lt;code&gt;getimagesize()&lt;/code&gt;&lt;br&gt;&lt;code&gt;imagecreatetruecolor()&lt;
      
    
    </summary>
    
      <category term="rd" scheme="http://fengtianhe.cn/categories/rd/"/>
    
    
      <category term="PHP" scheme="http://fengtianhe.cn/tags/PHP/"/>
    
      <category term="å·¥å…·å‡½æ•°" scheme="http://fengtianhe.cn/tags/%E5%B7%A5%E5%85%B7%E5%87%BD%E6%95%B0/"/>
    
      <category term="å›¾ç‰‡å‡½æ•°" scheme="http://fengtianhe.cn/tags/%E5%9B%BE%E7%89%87%E5%87%BD%E6%95%B0/"/>
    
  </entry>
  
  <entry>
    <title>Android-è‡ªåŠ¨ç¼–è¯‘ç‰ˆæœ¬å·</title>
    <link href="http://fengtianhe.cn/Android-%E8%87%AA%E5%8A%A8%E7%BC%96%E8%AF%91%E7%89%88%E6%9C%AC%E5%8F%B7/"/>
    <id>http://fengtianhe.cn/Android-è‡ªåŠ¨ç¼–è¯‘ç‰ˆæœ¬å·/</id>
    <published>2019-07-25T07:28:48.000Z</published>
    <updated>2019-11-07T01:56:39.277Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>åˆå¼€å§‹æ€»ç»“æ¬ç –ç»éªŒäº†:<br>åœ¨ä½¿ç”¨ReactNativeå¼€å‘Appçš„æ—¶å€™ï¼Œåœ¨ç¼–è¯‘æ—¶æ€»å¿˜è®°ä¿®æ”¹ç‰ˆæœ¬å·ï¼Œæ‡’æƒ°çš„æˆ‘åˆå¼€å§‹è€ƒè™‘ä½¿ç”¨è„šæœ¬è§£å†³æˆ‘çš„é—®é¢˜ğŸ˜ˆ</p></blockquote><p>é¦–å…ˆæˆ‘ä»¬è¦çœ‹ä¸‹ç‰ˆæœ¬å·åœ¨å“ªï¼Ÿ<br>ReactNativeåœ¨ç¼–è¯‘çš„æ—¶å€™ä¼šè¯»å–<code>{é¡¹ç›®ç›®å½•}/android/app/build.gradle</code>ä¸‹çš„defaultConfig<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">android &#123;</span><br><span class="line">    ...</span><br><span class="line">    defaultConfig &#123;</span><br><span class="line">        applicationId <span class="string">"com.xxxx"</span></span><br><span class="line">        minSdkVersion rootProject<span class="selector-class">.ext</span><span class="selector-class">.minSdkVersion</span></span><br><span class="line">        targetSdkVersion rootProject<span class="selector-class">.ext</span><span class="selector-class">.targetSdkVersion</span></span><br><span class="line">        versionCode <span class="number">1</span></span><br><span class="line">        versionName <span class="string">'1.0'</span></span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æˆ‘ä»¬åœ¨æ¯æ¬¡ç¼–è¯‘çš„æ—¶å€™ éƒ½è¦ä¿®æ”¹<code>versionCode</code>å’Œ<code>versionName</code><br>æ‡’æƒ°å¾—æˆ‘æ‰¾äº†åº¦å¨˜ï¼Œå¤§å®¶ä¸€è‡´è®¤ä¸ºä½¿ç”¨git tag å’Œ git commit countæ¥è‡ªåŠ¨åŒ–ç‰ˆæœ¬å·</p><hr><h1 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h1><h3 id="å®šä¹‰è·å–ç‰ˆæœ¬å·æ–¹æ³•"><a href="#å®šä¹‰è·å–ç‰ˆæœ¬å·æ–¹æ³•" class="headerlink" title="å®šä¹‰è·å–ç‰ˆæœ¬å·æ–¹æ³•"></a>å®šä¹‰è·å–ç‰ˆæœ¬å·æ–¹æ³•</h3><p>åœ¨<code>{é¡¹ç›®ç›®å½•}/android/app/build.gradle</code>ä¸­androidä¸Šæ–¹å®šä¹‰æ–¹æ³•(å‰ææ˜¯å½“å‰é¡¹ç›®æœ‰git tag)<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getSelfDefinedVersion</span></span>(<span class="class"><span class="keyword">type</span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">cmd</span> </span>= <span class="symbol">'git</span> describe --tags'</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">gitTag</span> </span>= cmd.execute().text.trim()</span><br><span class="line"></span><br><span class="line">    <span class="type">Process</span> process = <span class="string">"git rev-list --count HEAD"</span>.execute()</span><br><span class="line">    process.waitFor()</span><br><span class="line">    int commitCount = process.getText().toInteger()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="string">"code"</span>.equals(<span class="class"><span class="keyword">type</span>)) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> commitCount</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">"name"</span>.equals(<span class="class"><span class="keyword">type</span>)) </span>&#123;</span><br><span class="line">        <span class="type">String</span> today = <span class="keyword">new</span> <span class="type">Date</span>().format(<span class="string">"yyMMdd"</span>)</span><br><span class="line">        process = <span class="string">"git describe --always"</span>.execute()</span><br><span class="line">        process.waitFor()</span><br><span class="line">        <span class="type">String</span> sha1 = process.getText().trim()</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"$gitTag.$commitCount.$today.$sha1"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="ä½¿ç”¨å‡½æ•°è·å–ç‰ˆæœ¬å·"><a href="#ä½¿ç”¨å‡½æ•°è·å–ç‰ˆæœ¬å·" class="headerlink" title="ä½¿ç”¨å‡½æ•°è·å–ç‰ˆæœ¬å·"></a>ä½¿ç”¨å‡½æ•°è·å–ç‰ˆæœ¬å·</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">android &#123;</span><br><span class="line">    ...</span><br><span class="line">    defaultConfig &#123;</span><br><span class="line">        applicationId <span class="string">"com.xxxx"</span></span><br><span class="line">        minSdkVersion rootProject<span class="selector-class">.ext</span><span class="selector-class">.minSdkVersion</span></span><br><span class="line">        targetSdkVersion rootProject<span class="selector-class">.ext</span><span class="selector-class">.targetSdkVersion</span></span><br><span class="line">        versionCode getSelfDefinedVersion(<span class="string">'code'</span>) <span class="comment">// æ”¹è¿™é‡Œ</span></span><br><span class="line">        versionName getSelfDefinedVersion(<span class="string">'name'</span>) <span class="comment">// æ”¹è¿™é‡Œ</span></span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹è¾“å‡ºæ–‡ä»¶å"><a href="#ä¿®æ”¹è¾“å‡ºæ–‡ä»¶å" class="headerlink" title="ä¿®æ”¹è¾“å‡ºæ–‡ä»¶å"></a>ä¿®æ”¹è¾“å‡ºæ–‡ä»¶å</h3><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">android.applicationVariants.all &#123; variant -&gt;</span><br><span class="line">    variant.outputs.all &#123; output -&gt;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">outputFile</span></span> = output.outputFile</span><br><span class="line">        if (outputFile != null &amp;&amp; outputFile.name.endsWith(<span class="string">'.apk'</span>)) &#123;</span><br><span class="line">            /<span class="regexp">/è¿™é‡Œä¿®æ”¹apkæ–‡ä»¶å</span></span><br><span class="line"><span class="regexp">            def fileName = "xxxxx-$&#123;defaultConfig.versionCode&#125;-$&#123;defaultConfig.versionName&#125;.apk"</span></span><br><span class="line"><span class="regexp">            outputFileName = fileName</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="ç¼–è¯‘ç»“æœ"><a href="#ç¼–è¯‘ç»“æœ" class="headerlink" title="ç¼–è¯‘ç»“æœ"></a>ç¼–è¯‘ç»“æœ</h3><p>åœ¨<code>android/app/build/generated/source/buildConfig/release/com/xxx/BuildConfig.java</code><br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> class BuildConfig &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="built_in">boolean</span> DEBUG = <span class="keyword">false</span>;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> APPLICATION_ID = <span class="string">"com.cnmanager"</span>;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> BUILD_TYPE = <span class="string">"release"</span>;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> FLAVOR = <span class="string">""</span>;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="built_in">int</span> VERSION_CODE = <span class="number">15</span>;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> VERSION_NAME = <span class="string">"v1.0.15.190725.5487385"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p>åœ¨æœ‰å¤§ç‰ˆæœ¬æ›´æ–°çš„æ—¶å€™éœ€è¦æ”¹git tagæ‰€ä»¥æˆ‘åˆå†™äº†ä¸ªshellè„šæœ¬æ¥ç¡®è®¤ä¿®æ”¹git tag<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"></span><br><span class="line">currGitTag=$(git describe --tags `git rev-list --tags --max-count=1` | xargs)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"å½“å‰tag <span class="variable">$currGitTag</span>"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'æ˜¯å¦æœ‰å¤§ç‰ˆæœ¬å˜æ›´ï¼Ÿ(y/n)(é»˜è®¤ï¼šn):'</span></span><br><span class="line"><span class="built_in">read</span> USER_CONFIRM_VERSION</span><br><span class="line"><span class="keyword">if</span> [[ <span class="string">"<span class="variable">$USER_CONFIRM_VERSION</span>"</span> = <span class="string">"y"</span> ]] || [[ <span class="string">"<span class="variable">$USER_CONFIRM_VERSION</span>"</span> = <span class="string">"Y"</span> ]] || [[ -z <span class="string">"<span class="variable">$USER_CONFIRM_VERSION</span>"</span> ]];<span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"è¯·è¾“å…¥git tagç‰ˆæœ¬"</span></span><br><span class="line">    <span class="built_in">read</span> USER_INPUT_TAG</span><br><span class="line"></span><br><span class="line">    git tag <span class="variable">$&#123;USER_INPUT_TAG&#125;</span></span><br><span class="line">    git push --tags</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">commitCount=`git rev-list --count HEAD`</span><br><span class="line">latestTag=$(git describe --tags `git rev-list --tags --max-count=1` | xargs)</span><br><span class="line">currDate=`date +%y%m%d`</span><br><span class="line"><span class="comment">#gitShort=`git describe --always`</span></span><br><span class="line">versionName=<span class="string">"<span class="variable">$latestTag</span>.<span class="variable">$commitCount</span>.<span class="variable">$currDate</span>"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"ç¼–è¯‘ç‰ˆæœ¬ä¸ºï¼š<span class="variable">$versionName</span>"</span></span><br><span class="line"><span class="built_in">read</span> CONFIRM</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> android &amp;&amp; ./gradlew assembleRelease</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;åˆå¼€å§‹æ€»ç»“æ¬ç –ç»éªŒäº†:&lt;br&gt;åœ¨ä½¿ç”¨ReactNativeå¼€å‘Appçš„æ—¶å€™ï¼Œåœ¨ç¼–è¯‘æ—¶æ€»å¿˜è®°ä¿®æ”¹ç‰ˆæœ¬å·ï¼Œæ‡’æƒ°çš„æˆ‘åˆå¼€å§‹è€ƒè™‘ä½¿ç”¨è„šæœ¬è§£å†³æˆ‘çš„é—®é¢˜ğŸ˜ˆ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é¦–å…ˆæˆ‘ä»¬è¦çœ‹ä¸‹ç‰ˆæœ¬å·åœ¨å“ªï¼Ÿ&lt;br&gt;ReactNativeåœ¨ç¼–
      
    
    </summary>
    
      <category term="fe" scheme="http://fengtianhe.cn/categories/fe/"/>
    
    
      <category term="é¡¹ç›®å‘å¸ƒ" scheme="http://fengtianhe.cn/tags/%E9%A1%B9%E7%9B%AE%E5%8F%91%E5%B8%83/"/>
    
      <category term="ReactNative" scheme="http://fengtianhe.cn/tags/ReactNative/"/>
    
      <category term="Android" scheme="http://fengtianhe.cn/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>å°ç¨‹åº-è´å¡å°”æ›²çº¿åŠ å…¥è´­ç‰©è½¦åŠ¨æ•ˆ</title>
    <link href="http://fengtianhe.cn/%E5%B0%8F%E7%A8%8B%E5%BA%8F-%E8%B4%9D%E5%A1%9E%E5%B0%94%E6%9B%B2%E7%BA%BF%E5%8A%A0%E5%85%A5%E8%B4%AD%E7%89%A9%E8%BD%A6%E5%8A%A8%E6%95%88/"/>
    <id>http://fengtianhe.cn/å°ç¨‹åº-è´å¡å°”æ›²çº¿åŠ å…¥è´­ç‰©è½¦åŠ¨æ•ˆ/</id>
    <published>2019-07-13T07:53:24.000Z</published>
    <updated>2019-11-07T01:56:39.309Z</updated>
    
    <content type="html"><![CDATA[<p>é¦–å…ˆä¸Šä¸ªæ•ˆæœå›¾<br><img src="/images/wx-miniprogram-bezier.gif" alt="JAVAç›¸å…³ç¯å¢ƒå˜é‡"></p><p>åœ¨å·¥å…·ç›®å½•ä¸‹åˆ›å»ºç®—æ³•æ–‡ä»¶ /utils/bezier.js</p><figure class="highlight zephir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * è´å¡å°”æ›²çº¿</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> sx èµ·å§‹ç‚¹xåæ ‡</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> sy èµ·å§‹ç‚¹yåæ ‡</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> cx æ§åˆ¶ç‚¹xåæ ‡</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> cy æ§åˆ¶ç‚¹yåæ ‡</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> ex ç»“æŸç‚¹xåæ ‡</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> ey ç»“æŸç‚¹yåæ ‡</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> part å°†èµ·å§‹ç‚¹åˆ°æ§åˆ¶ç‚¹çš„çº¿æ®µåˆ†æˆçš„ä»½æ•°ï¼Œæ•°å€¼è¶Šé«˜ï¼Œè®¡ç®—å‡ºçš„æ›²çº¿è¶Šç²¾ç¡®</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span> è´å¡å°”æ›²çº¿åæ ‡</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  bezier: <span class="function"><span class="keyword">function</span> <span class="params">(points, part)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> sx = points[<span class="number">0</span>][<span class="string">'x'</span>];</span><br><span class="line">    <span class="keyword">let</span> sy = points[<span class="number">0</span>][<span class="string">'y'</span>];</span><br><span class="line">    <span class="keyword">let</span> cx = points[<span class="number">1</span>][<span class="string">'x'</span>];</span><br><span class="line">    <span class="keyword">let</span> cy = points[<span class="number">1</span>][<span class="string">'y'</span>];</span><br><span class="line">    <span class="keyword">let</span> ex = points[<span class="number">2</span>][<span class="string">'x'</span>];</span><br><span class="line">    <span class="keyword">let</span> ey = points[<span class="number">2</span>][<span class="string">'y'</span>];</span><br><span class="line">    <span class="keyword">var</span> bezier_points = [];</span><br><span class="line">    <span class="comment">// èµ·å§‹ç‚¹åˆ°æ§åˆ¶ç‚¹çš„xå’Œyæ¯æ¬¡çš„å¢é‡</span></span><br><span class="line">    <span class="keyword">var</span> changeX1 = (cx - sx) / part;</span><br><span class="line">    <span class="keyword">var</span> changeY1 = (cy - sy) / part;</span><br><span class="line">    <span class="comment">// æ§åˆ¶ç‚¹åˆ°ç»“æŸç‚¹çš„xå’Œyæ¯æ¬¡çš„å¢é‡</span></span><br><span class="line">    <span class="keyword">var</span> changeX2 = (ex - cx) / part;</span><br><span class="line">    <span class="keyword">var</span> changeY2 = (ey - cy) / part;</span><br><span class="line">    <span class="comment">//å¾ªç¯è®¡ç®—</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;= part; i++) &#123;</span><br><span class="line">      <span class="comment">// è®¡ç®—ä¸¤ä¸ªåŠ¨ç‚¹çš„åæ ‡</span></span><br><span class="line">      <span class="keyword">var</span> qx1 = sx + changeX1 * i;</span><br><span class="line">      <span class="keyword">var</span> qy1 = sy + changeY1 * i;</span><br><span class="line">      <span class="keyword">var</span> qx2 = cx + changeX2 * i;</span><br><span class="line">      <span class="keyword">var</span> qy2 = cy + changeY2 * i;</span><br><span class="line">      <span class="comment">// è®¡ç®—å¾—åˆ°æ­¤æ—¶çš„ä¸€ä¸ªè´å¡å°”æ›²çº¿ä¸Šçš„ç‚¹</span></span><br><span class="line">      <span class="keyword">var</span> lastX = qx1 + (qx2 - qx1) * i / part;</span><br><span class="line">      <span class="keyword">var</span> lastY = qy1 + (qy2 - qy1) * i / part;</span><br><span class="line">      <span class="comment">// ä¿å­˜ç‚¹åæ ‡</span></span><br><span class="line">      <span class="keyword">var</span> point = &#123;&#125;;</span><br><span class="line">      point[<span class="string">'x'</span>] = lastX;</span><br><span class="line">      point[<span class="string">'y'</span>] = lastY;</span><br><span class="line">      bezier_points.push(point);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//console.log(bezier_points)</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="string">'bezier_points'</span>: bezier_points</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä½¿ç”¨çš„é¡µé¢ä¸­ å®šä¹‰ å°åœ†ç‚¹<br><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- åŠ å…¥è´­ç‰©è½¦åŠ¨æ€å°å›¾æ ‡ --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"good_box"</span> <span class="attr">hidden</span>=<span class="string">"</span></span></span><span class="template-variable">&#123;&#123;hide_good_box&#125;&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>  <span class="attr">style</span>=<span class="string">"left: </span></span></span><span class="template-variable">&#123;&#123;bus_x&#125;&#125;</span><span class="xml"><span class="tag"><span class="string">px; top: </span></span></span><span class="template-variable">&#123;&#123;bus_y&#125;&#125;</span><span class="xml"><span class="tag"><span class="string">px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">.good_box &#123;</span></span><br><span class="line"><span class="xml">width: 30rpx;</span></span><br><span class="line"><span class="xml">height: 30rpx;</span></span><br><span class="line"><span class="xml">position: fixed;</span></span><br><span class="line"><span class="xml">border-radius: 50%;</span></span><br><span class="line"><span class="xml">overflow: hidden;</span></span><br><span class="line"><span class="xml">left: 50%;</span></span><br><span class="line"><span class="xml">top: 50%;</span></span><br><span class="line"><span class="xml">z-index: 99;</span></span><br><span class="line"><span class="xml">background: #b02c41;</span></span><br><span class="line"><span class="xml">&#125;</span></span><br></pre></td></tr></table></figure></p><p>åœ¨jsæ–‡ä»¶ä¸­å®šä¹‰data<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">hide_good_box:</span> <span class="literal">true</span><span class="string">,</span></span><br><span class="line"><span class="attr">bus_x:</span> <span class="number">0</span><span class="string">,</span></span><br><span class="line"><span class="attr">bus_y:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure></p><p>ç‚¹å‡»äº‹ä»¶  bindtap æ‰§è¡Œ touchOnGoods å°±å¯ä»¥<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">touchOnGoods: function(e) &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœgood_boxæ­£åœ¨è¿åŠ¨</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.<span class="keyword">data</span>.hide_good_box) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.finger = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿åŠ¨çš„ç»ˆç‚¹ä½ç½®</span></span><br><span class="line">    <span class="keyword">this</span>.busPos = &#123;</span><br><span class="line">      x: <span class="number">337</span>,</span><br><span class="line">      y: <span class="number">527</span></span><br><span class="line">    &#125;;</span><br><span class="line">    let topPoint = &#123;&#125;;</span><br><span class="line">    <span class="keyword">this</span>.finger[<span class="string">'x'</span>] = e.touches[<span class="string">"0"</span>].clientX;</span><br><span class="line">    <span class="keyword">this</span>.finger[<span class="string">'y'</span>] = e.touches[<span class="string">"0"</span>].clientY;</span><br><span class="line">    console.log(<span class="string">'finger =&gt; '</span>, <span class="keyword">this</span>.finger)</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.finger[<span class="string">'y'</span>] &lt; <span class="keyword">this</span>.busPos[<span class="string">'y'</span>]) &#123;</span><br><span class="line">      topPoint[<span class="string">'y'</span>] = <span class="keyword">this</span>.finger[<span class="string">'y'</span>] - <span class="number">150</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      topPoint[<span class="string">'y'</span>] = <span class="keyword">this</span>.busPos[<span class="string">'y'</span>] - <span class="number">150</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    topPoint[<span class="string">'x'</span>] = Math.abs(<span class="keyword">this</span>.finger[<span class="string">'x'</span>] - <span class="keyword">this</span>.busPos[<span class="string">'x'</span>]) / <span class="number">2</span>;</span><br><span class="line">    console.log(<span class="string">'top point =&gt; '</span>, topPoint)</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.finger[<span class="string">'x'</span>] &gt; <span class="keyword">this</span>.busPos[<span class="string">'x'</span>]) &#123;</span><br><span class="line">      topPoint[<span class="string">'x'</span>] = (<span class="keyword">this</span>.finger[<span class="string">'x'</span>] - <span class="keyword">this</span>.busPos[<span class="string">'x'</span>]) / <span class="number">2</span> + <span class="keyword">this</span>.busPos[<span class="string">'x'</span>];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      topPoint[<span class="string">'x'</span>] = (<span class="keyword">this</span>.busPos[<span class="string">'x'</span>] - <span class="keyword">this</span>.finger[<span class="string">'x'</span>]) / <span class="number">2</span> + <span class="keyword">this</span>.finger[<span class="string">'x'</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    console.log(<span class="string">'bus point =&gt; '</span>, <span class="keyword">this</span>.busPos)</span><br><span class="line">    <span class="keyword">this</span>.linePos = bezier.bezier([<span class="keyword">this</span>.finger, topPoint, <span class="keyword">this</span>.busPos], <span class="number">20</span>);</span><br><span class="line">    <span class="keyword">this</span>.startAnimation();</span><br><span class="line">  &#125;,</span><br><span class="line">  startAnimation: function() &#123;</span><br><span class="line">    <span class="keyword">var</span> index = <span class="number">0</span>,</span><br><span class="line">      that = <span class="keyword">this</span>,</span><br><span class="line">      bezier_points = that.linePos[<span class="string">'bezier_points'</span>],</span><br><span class="line">      len = bezier_points.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      hide_good_box: <span class="literal">false</span>,</span><br><span class="line">      bus_x: that.finger[<span class="string">'x'</span>],</span><br><span class="line">      bus_y: that.finger[<span class="string">'y'</span>]</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">this</span>.timer = setInterval(function() &#123;</span><br><span class="line">      index++;</span><br><span class="line">      that.setData(&#123;</span><br><span class="line">        bus_x: bezier_points[index][<span class="string">'x'</span>],</span><br><span class="line">        bus_y: bezier_points[index][<span class="string">'y'</span>]</span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="keyword">if</span> (index &gt;= len) &#123;</span><br><span class="line">        clearInterval(that.timer);</span><br><span class="line">        that.setData(&#123;</span><br><span class="line">          hide_good_box: <span class="literal">true</span>,</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;, <span class="number">20</span>);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p><p>æœ€åè®°å¾—åœ¨<code>onHide</code>ä¸­é”€æ¯å®šæ—¶å™¨<code>this.timer</code></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;é¦–å…ˆä¸Šä¸ªæ•ˆæœå›¾&lt;br&gt;&lt;img src=&quot;/images/wx-miniprogram-bezier.gif&quot; alt=&quot;JAVAç›¸å…³ç¯å¢ƒå˜é‡&quot;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å·¥å…·ç›®å½•ä¸‹åˆ›å»ºç®—æ³•æ–‡ä»¶ /utils/bezier.js&lt;/p&gt;
&lt;figure class=&quot;highlig
      
    
    </summary>
    
      <category term="wxminiprogram" scheme="http://fengtianhe.cn/categories/wxminiprogram/"/>
    
    
      <category term="å°ç¨‹åº" scheme="http://fengtianhe.cn/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
      <category term="ç‰¹æ•ˆ" scheme="http://fengtianhe.cn/tags/%E7%89%B9%E6%95%88/"/>
    
  </entry>
  
  <entry>
    <title>PHPå·¥å…·å‡½æ•°-æ•°ç»„å·¥å…·-å¤šå­—æ®µåˆ†ç»„</title>
    <link href="http://fengtianhe.cn/PHP%E5%B7%A5%E5%85%B7%E5%87%BD%E6%95%B0-%E6%95%B0%E7%BB%84%E5%B7%A5%E5%85%B7-%E5%A4%9A%E5%AD%97%E6%AE%B5%E5%88%86%E7%BB%84/"/>
    <id>http://fengtianhe.cn/PHPå·¥å…·å‡½æ•°-æ•°ç»„å·¥å…·-å¤šå­—æ®µåˆ†ç»„/</id>
    <published>2019-03-29T10:08:35.000Z</published>
    <updated>2019-11-07T01:56:39.289Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">array_group_by</span><span class="params">($arr, $key)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">empty</span>($arr)) &#123;</span><br><span class="line">            <span class="keyword">return</span> [];</span><br><span class="line">        &#125;</span><br><span class="line">        $grouped = [];</span><br><span class="line">        <span class="keyword">foreach</span> ($arr <span class="keyword">as</span> $value) &#123;</span><br><span class="line">            $grouped[$value[$key]][] = $value;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// Recursively build a nested grouping if more parameters are supplied</span></span><br><span class="line">        <span class="comment">// Each grouped array value is grouped according to the next sequential key</span></span><br><span class="line">        <span class="keyword">if</span> (func_num_args() &gt; <span class="number">2</span>) &#123;</span><br><span class="line">            $args = func_get_args();</span><br><span class="line">            <span class="keyword">foreach</span> ($grouped <span class="keyword">as</span> $key =&gt; $value) &#123;</span><br><span class="line">                $parms = array_merge([$value], array_slice($args, <span class="number">2</span>, func_num_args()));</span><br><span class="line">                $grouped[$key] = call_user_func_array(<span class="string">'array_group_by'</span>, $parms);</span><br><span class="line">                <span class="comment">// ä¸Šé¢æ˜¯å½“å‰æ–¹æ³•ä½œä¸ºå…¨å±€æ–¹æ³•ä½¿ç”¨ï¼Œä¸‹é¢æ˜¯å§æ–¹æ³•å†™åœ¨ç±»ä¸­çš„ä½¿ç”¨ è¯¦è§ call_user_func_array()</span></span><br><span class="line">                <span class="comment">// $grouped[$key] = call_user_func_array([$this, 'array_group_by'], $parms);</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> $grouped;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;
      
    
    </summary>
    
      <category term="rd" scheme="http://fengtianhe.cn/categories/rd/"/>
    
    
      <category term="PHP" scheme="http://fengtianhe.cn/tags/PHP/"/>
    
      <category term="å·¥å…·å‡½æ•°" scheme="http://fengtianhe.cn/tags/%E5%B7%A5%E5%85%B7%E5%87%BD%E6%95%B0/"/>
    
      <category term="æ•°ç»„å‡½æ•°" scheme="http://fengtianhe.cn/tags/%E6%95%B0%E7%BB%84%E5%87%BD%E6%95%B0/"/>
    
  </entry>
  
  <entry>
    <title>Vue é¡¹ç›®éƒ¨ç½²</title>
    <link href="http://fengtianhe.cn/Vue-%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2/"/>
    <id>http://fengtianhe.cn/Vue-é¡¹ç›®éƒ¨ç½²/</id>
    <published>2019-03-26T10:55:36.000Z</published>
    <updated>2019-11-07T01:56:39.305Z</updated>
    
    <content type="html"><![CDATA[<p>é¦–å…ˆè¦é…ç½®æœåŠ¡å™¨sshå…å¯†ç™»å½•</p><p>deploy.sh<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="comment">#è·å–ç¯å¢ƒå</span></span><br><span class="line">env=<span class="string">''</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ x<span class="variable">$1</span> != x ];<span class="keyword">then</span></span><br><span class="line">    env=<span class="variable">$1</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    env=<span class="string">'prod'</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#è·å–å½“å‰åˆ†æ”¯å</span></span><br><span class="line">curr_branch=`git symbolic-ref --short -q HEAD`</span><br><span class="line"><span class="built_in">echo</span> <span class="string">'å½“å‰å·¥ä½œåˆ†æ”¯ =&gt; '</span><span class="variable">$&#123;curr_branch&#125;</span><span class="string">'\n'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'è¯»å–é…ç½®æ–‡ä»¶:'</span></span><br><span class="line">deploy_branch=`sed <span class="string">'/^'</span><span class="variable">$&#123;env&#125;</span>_branch<span class="string">'=/!d;s/.*=//'</span> deploy.conf`</span><br><span class="line">deploy_host=`sed <span class="string">'/^'</span><span class="variable">$&#123;env&#125;</span>_host<span class="string">'=/!d;s/.*=//'</span> deploy.conf`</span><br><span class="line">deploy_port=`sed <span class="string">'/^'</span><span class="variable">$&#123;env&#125;</span>_port<span class="string">'=/!d;s/.*=//'</span> deploy.conf`</span><br><span class="line">deploy_user=`sed <span class="string">'/^'</span><span class="variable">$&#123;env&#125;</span>_user<span class="string">'=/!d;s/.*=//'</span> deploy.conf`</span><br><span class="line">deploy_path=`sed <span class="string">'/^'</span><span class="variable">$&#123;env&#125;</span>_path<span class="string">'=/!d;s/.*=//'</span> deploy.conf`</span><br><span class="line">deploy_bak_path=`sed <span class="string">'/^'</span><span class="variable">$&#123;env&#125;</span>_bak_path<span class="string">'=/!d;s/.*=//'</span> deploy.conf`</span><br><span class="line">deploy_script=`sed <span class="string">'/^'</span><span class="variable">$&#123;env&#125;</span>_script<span class="string">'=/!d;s/.*=//'</span> deploy.conf`</span><br><span class="line"><span class="built_in">echo</span> <span class="string">'åˆ†æ”¯ =&gt; '</span><span class="variable">$&#123;deploy_branch&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'åœ°å€ =&gt; '</span><span class="variable">$&#123;deploy_host&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'ç«¯å£ =&gt; '</span><span class="variable">$&#123;deploy_port&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'ç”¨æˆ· =&gt; '</span><span class="variable">$&#123;deploy_user&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'è·¯å¾„ =&gt; '</span><span class="variable">$&#123;deploy_path&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'å¤‡ä»½è·¯å¾„ =&gt; '</span><span class="variable">$&#123;deploy_bak_path&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'è„šæœ¬ =&gt; '</span><span class="variable">$&#123;deploy_script&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'\n'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'å‚¨å­˜å½“å‰ä¿®æ”¹'</span></span><br><span class="line">git stash</span><br><span class="line"><span class="built_in">echo</span> <span class="string">'\n'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'åˆ‡æ¢åˆ°éœ€å‘å¸ƒçš„åˆ†æ”¯ =&gt; '</span><span class="variable">$&#123;deploy_branch&#125;</span></span><br><span class="line">git checkout <span class="variable">$deploy_branch</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'\n'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'ç¼–è¯‘é¡¹ç›®'</span></span><br><span class="line">npm run <span class="variable">$&#123;deploy_script&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'\n'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'å¤‡ä»½è€ç‰ˆæœ¬'</span></span><br><span class="line">curr_datetime=`date +%Y%m%d%H%M%S`</span><br><span class="line">ssh <span class="variable">$&#123;deploy_user&#125;</span>@<span class="variable">$&#123;deploy_host&#125;</span> -p <span class="variable">$&#123;deploy_port&#125;</span> <span class="string">"mv <span class="variable">$deploy_path</span> <span class="variable">$deploy_bak_path</span>/bak_<span class="variable">$curr_datetime</span>"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'ä¸Šä¼ æ–°ç‰ˆæœ¬'</span></span><br><span class="line">scp -P <span class="variable">$&#123;deploy_port&#125;</span> -r ./dist/ <span class="variable">$&#123;deploy_user&#125;</span>@<span class="variable">$&#123;deploy_host&#125;</span>:<span class="variable">$&#123;deploy_path&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'\n'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'åˆ‡å›å·¥ä½œåˆ†æ”¯ =&gt; '</span><span class="variable">$&#123;curr_branch&#125;</span></span><br><span class="line">git checkout <span class="variable">$curr_branch</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'\n'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'é‡Šæ”¾ä¿®æ”¹'</span></span><br><span class="line">git stash pop</span><br><span class="line"><span class="built_in">echo</span> <span class="string">'\n'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'éƒ¨ç½²æˆåŠŸ'</span></span><br></pre></td></tr></table></figure></p><p>deploy.conf<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">alpha_branch</span>=alpha</span><br><span class="line"><span class="attr">alpha_host</span>=xxxx</span><br><span class="line"><span class="attr">alpha_port</span>=xxxx</span><br><span class="line"><span class="attr">alpha_user</span>=xxxx</span><br><span class="line"><span class="attr">alpha_path</span>=xxxxx</span><br><span class="line"><span class="attr">alpha_bak_path</span>=xxxxx</span><br><span class="line"><span class="attr">alpha_script</span>=build_alpha</span><br><span class="line"></span><br><span class="line"><span class="attr">test_branch</span>=æµ‹è¯•ç¯å¢ƒåˆ†æ”¯å</span><br><span class="line"><span class="attr">test_host</span>=æµ‹è¯•ç¯å¢ƒæœºå™¨ip</span><br><span class="line"><span class="attr">test_user</span>=æµ‹è¯•ç¯å¢ƒæœºå™¨ç”¨æˆ·</span><br><span class="line"><span class="attr">test_path</span>=æµ‹è¯•ç¯å¢ƒé¡¹ç›®è·¯å¾„</span><br><span class="line"></span><br><span class="line"><span class="attr">preview_branch</span>=preview</span><br><span class="line"><span class="attr">preview_host</span>=xxxx</span><br><span class="line"><span class="attr">preview_port</span>=xxxx</span><br><span class="line"><span class="attr">preview_user</span>=xxxx</span><br><span class="line"><span class="attr">preview_path</span>=xxxx</span><br><span class="line"><span class="attr">preview_bak_path</span>=xxxx</span><br><span class="line"><span class="attr">preview_script</span>=build_preview</span><br><span class="line"></span><br><span class="line"><span class="attr">prod_branch</span>=master</span><br><span class="line"><span class="attr">prod_host</span>=xxxx</span><br><span class="line"><span class="attr">prod_port</span>=xxxx</span><br><span class="line"><span class="attr">prod_user</span>=xxxx</span><br><span class="line"><span class="attr">prod_path</span>=xxxx</span><br><span class="line"><span class="attr">prod_bak_path</span>=xxxx</span><br><span class="line"><span class="attr">prod_script</span>=build</span><br></pre></td></tr></table></figure></p><p>ä½¿ç”¨ <code>sh deploy.sh [prefix]</code></p><p>xxx_script æ˜¯åœ¨webpackä¸­ç”¨ä¸åŒçš„build é…ç½®æ–‡ä»¶æ‰“åŒ…çš„</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;é¦–å…ˆè¦é…ç½®æœåŠ¡å™¨sshå…å¯†ç™»å½•&lt;/p&gt;
&lt;p&gt;deploy.sh&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;spa
      
    
    </summary>
    
      <category term="fe" scheme="http://fengtianhe.cn/categories/fe/"/>
    
    
      <category term="é¡¹ç›®å‘å¸ƒ" scheme="http://fengtianhe.cn/tags/%E9%A1%B9%E7%9B%AE%E5%8F%91%E5%B8%83/"/>
    
      <category term="vue" scheme="http://fengtianhe.cn/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>PHPå·¥å…·å‡½æ•°-æ—¶é—´å·¥å…·-åˆ¤æ–­æ—¶é—´æ˜¯å¦åœ¨åŒä¸€å‘¨</title>
    <link href="http://fengtianhe.cn/PHP%E5%B7%A5%E5%85%B7%E5%87%BD%E6%95%B0-%E6%97%B6%E9%97%B4%E5%B7%A5%E5%85%B7-%E5%88%A4%E6%96%AD%E6%97%B6%E9%97%B4%E6%98%AF%E5%90%A6%E5%9C%A8%E5%90%8C%E4%B8%80%E5%91%A8/"/>
    <id>http://fengtianhe.cn/PHPå·¥å…·å‡½æ•°-æ—¶é—´å·¥å…·-åˆ¤æ–­æ—¶é—´æ˜¯å¦åœ¨åŒä¸€å‘¨/</id>
    <published>2019-03-15T11:25:21.000Z</published>
    <updated>2019-11-07T01:56:39.290Z</updated>
    
    <content type="html"><![CDATA[<h3 id="PHPåˆ¤æ–­ä¸¤ä¸ªæ—¶é—´æ˜¯å¦åœ¨åŒä¸€å‘¨"><a href="#PHPåˆ¤æ–­ä¸¤ä¸ªæ—¶é—´æ˜¯å¦åœ¨åŒä¸€å‘¨" class="headerlink" title="PHPåˆ¤æ–­ä¸¤ä¸ªæ—¶é—´æ˜¯å¦åœ¨åŒä¸€å‘¨"></a>PHPåˆ¤æ–­ä¸¤ä¸ªæ—¶é—´æ˜¯å¦åœ¨åŒä¸€å‘¨</h3><blockquote><p>ä¸šåŠ¡åœºæ™¯ï¼š<br>  å…¬å¸éœ€è¦è·å–ä¸Šå‘¨çš„æ±‡æ€»æ•°æ®ï¼Œç”±äºæ”¾åˆ°redisä¸­éœ€è¦åˆ¤æ–­æ•°æ®æ˜¯å¦è¿‡æœŸæˆ–è€…å¯ç”¨</p></blockquote><p>æƒ³æ³•ï¼šåˆ¤æ–­ç¬¬ä¸€ä¸ªæ—¶é—´çš„æ—¶é—´æˆ³ æ˜¯å¦æ˜¯ç¬¬äºŒä¸ªæ—¶é—´æ‰€åœ¨å‘¨çš„æ—¶é—´æˆ³çš„ åŒºé—´å†…</p><blockquote><p>åˆ©ç”¨strtotime(â€˜mondayâ€™)æ–¹æ³•å–åˆ°ä¸‹å‘¨ä¸€ strtotime(â€˜monday -7 dayâ€™) åˆ™å–åˆ°æœ¬å‘¨ä¸€<br>  åˆ©ç”¨strtotime(â€˜sundayâ€™)æ–¹æ³•å–åˆ°æœ¬å‘¨æ—¥</p></blockquote><p>å­˜åœ¨é—®é¢˜ï¼šç”±äºphpä»£ç çš„æ¯å‘¨ç¬¬ä¸€å¤©æ˜¯ä»å‘¨æ—¥å¼€å§‹çš„ æ‰€ä»¥å¦‚æœä»Šå¤©æ˜¯å‘¨ä¸€çš„è¯ <code>strtotime(&#39;monday -7 day&#39;)</code> è·å–çš„å°±æ˜¯ä¸Šå‘¨ä¸€<br>Fix: åˆ©ç”¨date(â€˜wâ€™) åˆ¤æ–­ä»Šå¤©æ˜¯å‘¨ä¸€çš„è¯ï¼Œå¼€å§‹æ—¶é—´å°±åŠ ä¸€å‘¨</p><p>ä¸Šå®Œæ•´ä»£ç </p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">time_in_same_week</span><span class="params">($preDate, $afterDate)</span> </span>&#123;</span><br><span class="line">    $flag = <span class="keyword">false</span>;<span class="comment">//é»˜è®¤ä¸æ˜¯åŒä¸€å‘¨</span></span><br><span class="line">    $preTime = strtotime($preDate);</span><br><span class="line">    $afterTime = strtotime($afterDate);</span><br><span class="line"></span><br><span class="line">    $week = date(<span class="string">'w'</span>, $afterTime);</span><br><span class="line">    <span class="comment">//        echo $week . PHP_EOL;</span></span><br><span class="line">    $mintime = strtotime(<span class="string">'monday -7 day'</span>, $afterTime) + ($week == <span class="number">1</span> ? <span class="number">7</span> * <span class="number">3600</span> * <span class="number">24</span> : <span class="number">0</span>);<span class="comment">//ä¸€å‘¨å¼€å§‹æ—¶é—´; è§£å†³ä»Šå¤©çš„ä¸‹å‘¨ä¸€æ˜¯ä»Šå¤©(å¦‚æœä»Šå¤©æ˜¯å‘¨ä¸€å°±ä¼šå‡ºç°è¿™ä¸ªæƒ…å†µ)</span></span><br><span class="line">    <span class="comment">//        echo 'ä¸€å‘¨å¼€å§‹æ—¶é—´'.date('Y-m-d', $mintime).PHP_EOL;</span></span><br><span class="line">    $maxtime = strtotime(<span class="string">'sunday'</span>, $afterTime);<span class="comment">//ä¸€å‘¨ç»“æŸæ—¶é—´</span></span><br><span class="line">    <span class="comment">//        echo 'ä¸€å‘¨ç»“æŸæ—¶é—´'.date('Y-m-d', $maxtime).PHP_EOL;</span></span><br><span class="line">    <span class="keyword">if</span> ($preTime &gt;= $mintime &amp;&amp; $preTime &lt;= $maxtime) &#123;<span class="comment">//åŒä¸€å‘¨</span></span><br><span class="line">        $flag = <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> $flag;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;PHPåˆ¤æ–­ä¸¤ä¸ªæ—¶é—´æ˜¯å¦åœ¨åŒä¸€å‘¨&quot;&gt;&lt;a href=&quot;#PHPåˆ¤æ–­ä¸¤ä¸ªæ—¶é—´æ˜¯å¦åœ¨åŒä¸€å‘¨&quot; class=&quot;headerlink&quot; title=&quot;PHPåˆ¤æ–­ä¸¤ä¸ªæ—¶é—´æ˜¯å¦åœ¨åŒä¸€å‘¨&quot;&gt;&lt;/a&gt;PHPåˆ¤æ–­ä¸¤ä¸ªæ—¶é—´æ˜¯å¦åœ¨åŒä¸€å‘¨&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;ä¸šåŠ¡åœºæ™¯ï¼š
      
    
    </summary>
    
      <category term="rd" scheme="http://fengtianhe.cn/categories/rd/"/>
    
    
      <category term="PHP" scheme="http://fengtianhe.cn/tags/PHP/"/>
    
      <category term="å·¥å…·å‡½æ•°" scheme="http://fengtianhe.cn/tags/%E5%B7%A5%E5%85%B7%E5%87%BD%E6%95%B0/"/>
    
      <category term="æ—¶é—´å‡½æ•°" scheme="http://fengtianhe.cn/tags/%E6%97%B6%E9%97%B4%E5%87%BD%E6%95%B0/"/>
    
  </entry>
  
  <entry>
    <title>åˆ†æHaproxyæ—¥å¿—</title>
    <link href="http://fengtianhe.cn/%E5%88%86%E6%9E%90Haproxy%E6%97%A5%E5%BF%97/"/>
    <id>http://fengtianhe.cn/åˆ†æHaproxyæ—¥å¿—/</id>
    <published>2019-03-05T11:23:33.000Z</published>
    <updated>2019-11-07T01:56:39.306Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æˆ‘ä½¿ç”¨çš„æ˜¯Ubuntuæœºå™¨</p></blockquote><h3 id="å®‰è£…Elasticsearch"><a href="#å®‰è£…Elasticsearch" class="headerlink" title="å®‰è£…Elasticsearch"></a>å®‰è£…Elasticsearch</h3><ul><li>ã€å¯é€‰ã€‘å®‰è£…JDK <code>sudo apt install openjdk-8-jdk-headless</code>ï¼ˆå¦‚æœæœ¬æœºæœ‰è¯·è·³è¿‡ï¼‰ï¼ˆå¦‚æœæ²¡æœ‰ ä½¿ç”¨javaå‘½ä»¤ ,ç³»ç»Ÿä¼šæç¤ºç”¨ä»€ä¹ˆå‘½ä»¤å®‰è£…ï¼‰</li></ul><p><img src="/images/201903051953.jpg" alt="ubuntu æ—  java æç¤º"></p><ul><li>åœ¨<a href="https://www.elastic.co/downloads/past-releases">elastic.co</a>ä¸Šä¸‹è½½ Elasticsearch OSS ç‰ˆæœ¬</li><li><p>ã€å¯é€‰ã€‘é…ç½®JAVAç¯å¢ƒå˜é‡ï¼ˆå¦‚æœæœ¬æœºæœ‰è¯·è·³è¿‡,å°±ç”¨jdk1.8 ä¸è¦ç”¨å…¶ä»–ç‰ˆæœ¬ï¼‰</p><pre><code>å‘½ä»¤ä¸€ï¼šwhich javaå‘½ä»¤äºŒï¼šls -lrt /usr/bin/javaå‘½ä»¤ä¸‰ï¼šls -lrt /etc/alternatives/javaæœ€åå°†ä¼šå¾—å‡ºè¿™æ ·çš„ç›®å½• /usr/lib/jvm/java-8-openjdk-amd64(æ¯ä¸ªäººä¸ä¸€æ ·ï¼Œä»¥å®é™…æƒ…å†µä¸ºå‡†)</code></pre></li><li><p>ã€å¯é€‰ã€‘é…ç½®ç¯å¢ƒå˜é‡ï¼Œæ‰§è¡Œå‘½ä»¤ vi /etc/profileï¼›ç„¶åè¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œåœ¨æ–‡ä»¶çš„æœ€åæ·»åŠ ä¸‹é¢çš„é…ç½®</p><pre><code>JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64JRE_HOME=/usr/lib/jvm/java-8-openjdk-amd64/jreCLASSPATH=$JAVA_HOME/lib:$JRE_HOME/lib:$CLASSPATHPATH=$JAVA_HOME/bin:$JRE_HOME/bin:$PATH</code></pre></li><li><p>æ‰§è¡Œå‘½ä»¤ source /etc/profile ä½¿ç”¨ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ</p></li><li><p>åœ¨ usr ä¸‹åˆ›å»º elasticsearch ç›®å½• <code>sudo mkdir /usr/elasticsearch</code></p></li><li><p>tar -zxvf ä¸‹è½½ä¸‹æ¥çš„ elasticsearch-oss-x.x.x.tar.gz æ”¾åˆ° /usr/elasticsearch ä¸‹</p></li><li><p>ã€å¯é€‰ã€‘åˆ›å»ºESç”¨æˆ·å’Œç»„ï¼ˆåˆ›å»ºelsearchç”¨æˆ·ç»„åŠelsearchç”¨æˆ·ï¼‰ï¼Œå› ä¸ºä½¿ç”¨rootç”¨æˆ·æ‰§è¡ŒESç¨‹åºï¼Œå°†ä¼šå‡ºç°é”™è¯¯ï¼›æ‰€ä»¥è¿™é‡Œéœ€è¦åˆ›å»ºå•ç‹¬çš„ç”¨æˆ·å»æ‰§è¡ŒES æ–‡ä»¶ï¼›å‘½ä»¤å¦‚ä¸‹ï¼ˆå¦‚æœå­˜åœ¨æ™®é€šç”¨æˆ·å°±ä¸ç”¨æ–°å»ºäº†ï¼‰</p><pre><code>å‘½ä»¤ä¸€ï¼šgroupadd elsearchå‘½ä»¤äºŒï¼šuseradd elsearch -g elsearchå‘½ä»¤ä¸‰ï¼šchown -R elsearch:elsearch /usr/elasticsearch  è¯¥å‘½ä»¤æ˜¯æ›´æ”¹è¯¥æ–‡ä»¶å¤¹ä¸‹æ‰€å±çš„ç”¨æˆ·ç»„çš„æƒé™</code></pre></li><li><p>åœ¨<code>/usr/elasticsearch</code>ä¸­åˆ›å»ºESæ•°æ®æ–‡ä»¶å’Œæ—¥å¿—æ–‡ä»¶</p><pre><code>å‘½ä»¤ä¸€ï¼šmkdir -p data (ä¿®æ”¹æ‰€å±æƒé™)å‘½ä»¤äºŒï¼šmkdir -p logs (ä¿®æ”¹æ‰€å±æƒé™)</code></pre></li><li><p>ä¿®æ”¹ <code>/usr/elasticsearch/config/elasticsearch.yml</code> æ–‡ä»¶ ï¼ˆå¯ä»¥ä½¿ç”¨é»˜è®¤ï¼‰</p></li><li><p>ä½¿ç”¨ <code>/usr/elasticsearch/bin/elasticsearch -d</code> ç”¨åå°å¯åŠ¨</p></li><li><p>æµ‹è¯•æ˜¯å¦å¯åŠ¨æˆåŠŸ</p></li></ul><p><img src="/images/201903060941.jpg" alt="æµ‹è¯•elasticsearchæ˜¯å¦å¯åŠ¨æˆåŠŸ"></p><hr><h3 id="å®‰è£…Logstash"><a href="#å®‰è£…Logstash" class="headerlink" title="å®‰è£…Logstash"></a>å®‰è£…Logstash</h3><blockquote><p>Logstashæ˜¯ä¸€ä¸ªå¼€æºçš„æœåŠ¡å™¨ç«¯æ•°æ®å¤„ç†ç®¡é“ï¼Œå¯ä»¥åŒæ—¶ä»å¤šä¸ªæ•°æ®æºè·å–æ•°æ®ï¼Œå¹¶å¯¹å…¶è¿›è¡Œè½¬æ¢ï¼Œç„¶åå°†å…¶å‘é€åˆ°ä½ æœ€å–œæ¬¢çš„â€œå­˜å‚¨â€ã€‚ï¼ˆå½“ç„¶ï¼Œæˆ‘ä»¬æœ€å–œæ¬¢çš„æ˜¯Elasticsearchï¼‰</p></blockquote><p><img src="/images/201903060941.jpg" alt="logstash å·¥ä½œåŸç†"></p><ul><li><p>åœ¨<a href="https://www.elastic.co/downloads/past-releases">elastic.co</a>ä¸Šä¸‹è½½ Logstash å¹¶è§£å‹</p></li><li><p>é…ç½®logstash</p></li><li><p>åœ¨logstashä¸‹è¿è¡Œ <code>./bin/logstash -f è‡ªå®šä¹‰é…ç½®æ–‡ä»¶è·¯å¾„</code> å¯åŠ¨logstash</p></li><li><p>tail æ—¥å¿— æ˜¾ç¤ºNon-zero metrics in the last 30så­—æ ·å°±å¯åŠ¨æˆåŠŸäº†</p></li></ul><p>ps: æ— çŸ¥çš„æˆ‘ä¸€ç›´åœ¨tail ç”Ÿæˆçš„æ—¥å¿—ï¼Œå…¶å®å·²ç»å†™è¿›å»äº†ï¼Œåªä¸è¿‡æ²¡æœ‰æ—¥å¿—ï¼Œå¯èƒ½ä¿®æ”¹æ—¥å¿—çº§åˆ«å°±å¥½äº†</p><hr><h3 id="å®‰è£…Filebeat"><a href="#å®‰è£…Filebeat" class="headerlink" title="å®‰è£…Filebeat"></a>å®‰è£…Filebeat</h3><ul><li>åœ¨<a href="https://www.elastic.co/downloads/past-releases">elastic.co</a>ä¸Šä¸‹è½½ Filebeat OSS å¹¶è§£å‹</li></ul><p>ï¼ˆä½¿ç”¨<code>getconf LONG_BIT</code>æŸ¥çœ‹ubuntuä½æ•°ï¼‰</p><ul><li><p>ä¿®æ”¹ymlé…ç½®æ–‡ä»¶ï¼Œå°†outputè½¬ä¸ºlogstashçš„ã€‚(å¦‚æœé…ç½®æ–‡ä»¶çœ‹ç€ä¹±ï¼Œå¯ä»¥è‡ªå·±å†å†™ä¸€ä¸ª filebeat -e -c é…ç½®æ–‡ä»¶è·¯å¾„)</p></li><li><p>å¯åŠ¨å¯¹haproxy å’Œ logstashçš„æ”¯æŒ</p><pre><code>./filebeat modules enable haproxy./filebeat modules enable logstash</code></pre></li></ul><hr><h3 id="å®‰è£…Kibana"><a href="#å®‰è£…Kibana" class="headerlink" title="å®‰è£…Kibana"></a>å®‰è£…Kibana</h3><ul><li><p>åœ¨<a href="https://www.elastic.co/downloads/past-releases">elastic.co</a>ä¸Šä¸‹è½½ Kiana OSS å¹¶è§£å‹</p></li><li><p>ç„¶ååˆ°kibanaå®‰è£…ç›®å½•çš„configä¸‹ï¼Œç¼–è¾‘kibana.ymlé…ç½®æ–‡ä»¶ï¼Œ(å¯ä»¥ä½¿ç”¨é»˜è®¤)</p></li><li><p><code>./bin/kibana &amp;</code> å¯åŠ¨ç„¶åè¾“å…¥exitå°±åå°å¯åŠ¨äº†</p></li><li><p>æµè§ˆå™¨ <code>127.0.0.1:5601</code> æ‰“å¼€kibanaæ§åˆ¶å°</p></li></ul><hr><h3 id="éªŒè¯æ•°æ®"><a href="#éªŒè¯æ•°æ®" class="headerlink" title="éªŒè¯æ•°æ®"></a>éªŒè¯æ•°æ®</h3><p>GET è¯·æ±‚ elasticsearchæœåŠ¡å™¨/_search æŸ¥çœ‹æ˜¯å¦æœ‰æ•°æ®</p><hr><h3 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h3><h4 id="å¦‚ä½•åˆ‡æ¢kibanaæ§åˆ¶å°çš„æ•°æ®æº"><a href="#å¦‚ä½•åˆ‡æ¢kibanaæ§åˆ¶å°çš„æ•°æ®æº" class="headerlink" title="å¦‚ä½•åˆ‡æ¢kibanaæ§åˆ¶å°çš„æ•°æ®æº"></a>å¦‚ä½•åˆ‡æ¢kibanaæ§åˆ¶å°çš„æ•°æ®æº</h4><blockquote><p>äºŒè´§çš„æˆ‘ç”¨è‡ªå¸¦çš„æµ‹è¯•æ•°æ®æ‰“å¼€äº†ï¼Œåœ¨ å·¦ä¾§ Management -&gt; Index Patterns -&gt; create index pattern<br>è¾“å…¥index-name ä¸‹ä¸€æ­¥åˆ›å»ºï¼Œå†åˆ‡å›é¢æ¿å°±å¥½äº†</p></blockquote><h4 id="æ±‰åŒ–Kibanaç•Œé¢"><a href="#æ±‰åŒ–Kibanaç•Œé¢" class="headerlink" title="æ±‰åŒ–Kibanaç•Œé¢"></a>æ±‰åŒ–Kibanaç•Œé¢</h4><blockquote><p>å¥¶å¥¶çš„ï¼Œä¸å…‰äºŒï¼Œè‹±è¯­è¿˜ä¸å¥½ã€‚ç®—äº† æ±‰åŒ–å§</p></blockquote><pre><code>wget -c  https://codeload.github.com/anbai-inc/Kibana_Hanization/zip/master -O Kibana_Hanization-master.zipä¸‹è½½å¹¶è§£å‹æ‰§è¡Œæ±‰åŒ–å‘½ä»¤ `python main.py ~/kibana-6.6.1-linux-x86_64/`é‡å¯kibana(æ±‰åŒ–åªèƒ½è§£å†³éƒ¨åˆ†é—®é¢˜ï¼Œé‡è¦çš„è¿˜æ˜¯å­¦è‹±è¯­å§)</code></pre><hr><h3 id="ç›¸å…³æ–‡ç« "><a href="#ç›¸å…³æ–‡ç« " class="headerlink" title="ç›¸å…³æ–‡ç« "></a>ç›¸å…³æ–‡ç« </h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;æˆ‘ä½¿ç”¨çš„æ˜¯Ubuntuæœºå™¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;å®‰è£…Elasticsearch&quot;&gt;&lt;a href=&quot;#å®‰è£…Elasticsearch&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£…Elasticsearc
      
    
    </summary>
    
      <category term="server" scheme="http://fengtianhe.cn/categories/server/"/>
    
    
      <category term="Haproxy" scheme="http://fengtianhe.cn/tags/Haproxy/"/>
    
      <category term="Logstash" scheme="http://fengtianhe.cn/tags/Logstash/"/>
    
      <category term="Filebeat" scheme="http://fengtianhe.cn/tags/Filebeat/"/>
    
  </entry>
  
  <entry>
    <title>PHPæ‰©å±•-Redis</title>
    <link href="http://fengtianhe.cn/PHP%E6%89%A9%E5%B1%95-Redis/"/>
    <id>http://fengtianhe.cn/PHPæ‰©å±•-Redis/</id>
    <published>2019-03-04T01:39:23.000Z</published>
    <updated>2019-11-07T01:56:39.302Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å®‰è£…Redis"><a href="#å®‰è£…Redis" class="headerlink" title="å®‰è£…Redis"></a>å®‰è£…Redis</h3><p>åœ¨<a href="https://redis.io/">redis.io</a>ä¸‹è½½ltsç‰ˆæœ¬æºç </p><p>ç¼–è¯‘æºç <br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> tar -zxvf redis-xxxx.tar.gz</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> redis-xxxx</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> make</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> make PREFIX=/usr/<span class="built_in">local</span>/redis install</span></span><br></pre></td></tr></table></figure></p><p>é…ç½®æ–‡ä»¶<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mkdir /usr/<span class="built_in">local</span>/redis/etc/</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> cp redis.conf /usr/<span class="built_in">local</span>/redis/etc/</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> /usr/<span class="built_in">local</span>/redis/bin/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> vim /usr/<span class="built_in">local</span>/redis/etc/redis.conf</span></span><br></pre></td></tr></table></figure></p><p>ä¿®æ”¹ä¸€ä¸‹é…ç½®<br>redisä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œ<br>noè¡¨ç¤ºä¸ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œ(ä¼šå ç”¨ä¸€ä¸ªç»ˆç«¯)<br><code>daemonize yes</code></p><hr><h3 id="å®‰è£…phpæ‰©å±•"><a href="#å®‰è£…phpæ‰©å±•" class="headerlink" title="å®‰è£…phpæ‰©å±•"></a>å®‰è£…phpæ‰©å±•</h3><p>æˆ‘çš„æœåŠ¡å™¨æ˜¯php5.6 æˆ‘é€‰ç”¨çš„phpredis æ˜¯ 2.2.8 ç‰ˆæœ¬<br>é¦–å…ˆä¸‹è½½æ‰©å±•<a href="http://pecl.php.net/package/redis">PECL</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> tar -zxvf redis-2.2.8.tgz</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> redis-2.2.8</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> phpize <span class="comment">#ç”¨phpizeç”Ÿæˆconfigureé…ç½®æ–‡ä»¶</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ./configure --with-php-config=/usr/bin/php-config <span class="comment">#é…ç½®</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> make  <span class="comment">#ç¼–è¯‘</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> make install  <span class="comment">#å®‰è£…</span></span></span><br></pre></td></tr></table></figure><h2 id="ç„¶åä¼šæç¤ºä¸€ä¸ªç›®å½•ï¼Œé€šè¿‡php-i-grep-php-ini-æŸ¥æ‰¾PHPé…ç½®æ–‡ä»¶ï¼Œç„¶åå°†redis-soæ·»åŠ åˆ°æ‰©å±•åˆ—è¡¨ä¸­"><a href="#ç„¶åä¼šæç¤ºä¸€ä¸ªç›®å½•ï¼Œé€šè¿‡php-i-grep-php-ini-æŸ¥æ‰¾PHPé…ç½®æ–‡ä»¶ï¼Œç„¶åå°†redis-soæ·»åŠ åˆ°æ‰©å±•åˆ—è¡¨ä¸­" class="headerlink" title="ç„¶åä¼šæç¤ºä¸€ä¸ªç›®å½•ï¼Œé€šè¿‡php -i | grep php.ini æŸ¥æ‰¾PHPé…ç½®æ–‡ä»¶ï¼Œç„¶åå°†redis.soæ·»åŠ åˆ°æ‰©å±•åˆ—è¡¨ä¸­"></a>ç„¶åä¼šæç¤ºä¸€ä¸ªç›®å½•ï¼Œé€šè¿‡<code>php -i | grep php.ini</code> æŸ¥æ‰¾PHPé…ç½®æ–‡ä»¶ï¼Œç„¶åå°†redis.soæ·»åŠ åˆ°æ‰©å±•åˆ—è¡¨ä¸­</h2><h3 id="åº”ç”¨phpæ‰©å±•"><a href="#åº”ç”¨phpæ‰©å±•" class="headerlink" title="åº”ç”¨phpæ‰©å±•"></a>åº”ç”¨phpæ‰©å±•</h3><h4 id="Apache"><a href="#Apache" class="headerlink" title="Apache"></a>Apache</h4><p>å¹³æ»‘é‡å¯apache(ä¸ä¼šå¯¹å½“å‰å¯åŠ¨çš„ç¨‹åºäº§ç”Ÿå½±å“)<br><code>apachectl -k graceful</code></p><h4 id="Nginx"><a href="#Nginx" class="headerlink" title="Nginx"></a>Nginx</h4><p>Nginx æ˜¯é€šè¿‡php-fpmåŠ è½½çš„æ‰©å±•</p><p>php 5.3.3 ä»¥åçš„php-fpm ä¸å†æ”¯æŒ php-fpm ä»¥å‰å…·æœ‰çš„ /Data/apps/php7/sbin/php-fpm(start|stop|reload)ç­‰å‘½ä»¤ï¼Œæ‰€ä»¥ä¸è¦å†çœ‹è¿™ç§è€æ‰ç‰™çš„å‘½ä»¤äº†ï¼Œéœ€è¦ä½¿ç”¨ä¿¡å·æ§åˆ¶</p><p>masterè¿›ç¨‹å¯ä»¥ç†è§£ä»¥ä¸‹ä¿¡å·</p><p>INT, TERM ç«‹åˆ»ç»ˆæ­¢<br>QUIT å¹³æ»‘ç»ˆæ­¢<br>USR1 é‡æ–°æ‰“å¼€æ—¥å¿—æ–‡ä»¶<br>USR2 å¹³æ»‘é‡è½½æ‰€æœ‰workerè¿›ç¨‹å¹¶é‡æ–°è½½å…¥é…ç½®å’ŒäºŒè¿›åˆ¶æ¨¡å—</p><p>ä¸€ä¸ªç®€å•ç›´æ¥çš„é‡å¯æ–¹æ³•ï¼š</p><p>å…ˆæŸ¥çœ‹php-fpmçš„masterè¿›ç¨‹å·<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">$ ps aux|grep php-fpm</span><br><span class="line">root      1565  0.0  0.6 499908  6596 ?        Ss   Feb27   0:10 php-fpm: master process (/etc/php-fpm.conf)</span><br><span class="line">apache    1566  0.0  3.1 503588 32176 ?        S    Feb27   0:03 php-fpm:<span class="built_in"> pool </span>www</span><br><span class="line">apache    1567  0.0  3.0 503552 31080 ?        S    Feb27   0:03 php-fpm:<span class="built_in"> pool </span>www</span><br><span class="line">apache    1568  0.0  3.1 502880 31868 ?        S    Feb27   0:03 php-fpm:<span class="built_in"> pool </span>www</span><br><span class="line">apache    1569  0.0  3.1 504372 32196 ?        S    Feb27   0:03 php-fpm:<span class="built_in"> pool </span>www</span><br><span class="line">apache    1570  0.0  2.8 503556 28844 ?        S    Feb27   0:03 php-fpm:<span class="built_in"> pool </span>www</span><br><span class="line">apache    1963  0.0  3.0 503040 31192 ?        S    Feb27   0:03 php-fpm:<span class="built_in"> pool </span>www</span><br><span class="line">apache    5390  0.0  2.7 503540 28556 ?        S    Feb28   0:02 php-fpm:<span class="built_in"> pool </span>www</span><br><span class="line">apache    5657  0.0  2.8 503568 29400 ?        S    Mar01   0:02 php-fpm:<span class="built_in"> pool </span>www</span><br><span class="line">apache    7421  0.0  2.6 503308 26968 ?        S    Mar01   0:02 php-fpm:<span class="built_in"> pool </span>www</span><br><span class="line">root     23263  0.0  0.0 103264   844 pts/1    S+   11:28   0:00 grep php-fpm</span><br><span class="line"></span><br><span class="line">$ kill -USR2 1565 #é‡å¯php-fpm</span><br><span class="line">$ ps aux|grep php-fpm #é‡æ–°çœ‹ä¸‹è¿›ç¨‹å·</span><br><span class="line">root     23275  0.0  0.6 499908  6560 ?        Ss   11:30   0:00 php-fpm: master process (/etc/php-fpm.conf)</span><br><span class="line">apache   23276  0.0  0.5 499908  5664 ?        S    11:30   0:00 php-fpm:<span class="built_in"> pool </span>www</span><br><span class="line">apache   23277  0.0  0.5 499908  5664 ?        S    11:30   0:00 php-fpm:<span class="built_in"> pool </span>www</span><br><span class="line">apache   23278  0.0  0.5 499908  5664 ?        S    11:30   0:00 php-fpm:<span class="built_in"> pool </span>www</span><br><span class="line">apache   23279  0.0  0.5 499908  5672 ?        S    11:30   0:00 php-fpm:<span class="built_in"> pool </span>www</span><br><span class="line">apache   23280  0.0  0.5 499908  5672 ?        S    11:30   0:00 php-fpm:<span class="built_in"> pool </span>www</span><br><span class="line">root     23282  0.0  0.0 103264   844 pts/1    S+   11:30   0:00 grep php-fpm</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;å®‰è£…Redis&quot;&gt;&lt;a href=&quot;#å®‰è£…Redis&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£…Redis&quot;&gt;&lt;/a&gt;å®‰è£…Redis&lt;/h3&gt;&lt;p&gt;åœ¨&lt;a href=&quot;https://redis.io/&quot;&gt;redis.io&lt;/a&gt;ä¸‹è½½ltsç‰ˆæœ¬æºç 
      
    
    </summary>
    
      <category term="rd" scheme="http://fengtianhe.cn/categories/rd/"/>
    
    
      <category term="PHP" scheme="http://fengtianhe.cn/tags/PHP/"/>
    
      <category term="PHPæ‰©å±•" scheme="http://fengtianhe.cn/tags/PHP%E6%89%A9%E5%B1%95/"/>
    
  </entry>
  
  <entry>
    <title>Gitå‘½ä»¤</title>
    <link href="http://fengtianhe.cn/Git%E5%91%BD%E4%BB%A4/"/>
    <id>http://fengtianhe.cn/Gitå‘½ä»¤/</id>
    <published>2019-02-26T15:49:37.000Z</published>
    <updated>2019-11-07T01:56:39.278Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Gitå¤§å°å†™"><a href="#Gitå¤§å°å†™" class="headerlink" title="Gitå¤§å°å†™"></a>Gitå¤§å°å†™</h3><p>é»˜è®¤gitå¿½ç•¥å¤§å°å†™<br><code>git config core.ignorecase false</code> //å½“å‰ä»“åº“å…³é—­å¿½ç•¥<br><code>git config core.ignorecase false --global</code> //å…¨å±€ä»“åº“å…³é—­å¿½ç•¥</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Gitå¤§å°å†™&quot;&gt;&lt;a href=&quot;#Gitå¤§å°å†™&quot; class=&quot;headerlink&quot; title=&quot;Gitå¤§å°å†™&quot;&gt;&lt;/a&gt;Gitå¤§å°å†™&lt;/h3&gt;&lt;p&gt;é»˜è®¤gitå¿½ç•¥å¤§å°å†™&lt;br&gt;&lt;code&gt;git config core.ignorecase false&lt;/
      
    
    </summary>
    
      <category term="others" scheme="http://fengtianhe.cn/categories/others/"/>
    
    
      <category term="Git" scheme="http://fengtianhe.cn/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>Android å‘å¸ƒéƒ¨ç½²é™åˆ¶</title>
    <link href="http://fengtianhe.cn/Android-%E5%8F%91%E5%B8%83%E9%83%A8%E7%BD%B2%E9%99%90%E5%88%B6/"/>
    <id>http://fengtianhe.cn/Android-å‘å¸ƒéƒ¨ç½²é™åˆ¶/</id>
    <published>2019-02-25T09:11:30.000Z</published>
    <updated>2019-11-07T01:56:39.276Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ç”±äºè¿›å…¥åˆ›ä¸šå…¬å¸ï¼Œæ²¡æœ‰ä¸€å¥—å®Œæ•´çš„å¼€å‘æµç¨‹ï¼Œæ¯ä¸ªäººéƒ½æœ‰ä¸åŒçš„å¼€å‘æ–¹å¼ï¼Œå¯¼è‡´çº¿ä¸Šå‡ºçº¿bug<br>  BugåŸå› ï¼šç”±äºandroidé¡¹ç›®ï¼Œå‘å¸ƒéƒ¨ç½²çš„åˆ†æ”¯æ²¡æœ‰è¢«é™åˆ¶å¯¼è‡´ç”¨æˆ·ä½¿ç”¨äº†å¼€å‘åˆ†æ”¯çš„ç‰ˆæœ¬ã€‚<br>  è§£å†³ï¼šåœ¨ç¼–è¯‘è„šæœ¬ä¸­æ·»åŠ é™åˆ¶</p></blockquote><p>è„šæœ¬ä¸­ä½¿ç”¨git çš„ tag å’ŒappVersionName é™åˆ¶äº†ç¼–è¯‘ç‰ˆæœ¬ï¼Œä»¥ä¾›å‚è€ƒï¼Œå…·ä½“ä¸šåŠ¡å…·ä½“ä¿®æ”¹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"ç¼–è¯‘æ­£å¼ç‰ˆæœ¬ï¼ç¼–è¯‘è¿‡ç¨‹ä¸­ä¼šå‡ºç°å¾ˆå¤šä¿¡æ¯ï¼Œè¯·ç¡®è®¤ï¼š"</span></span><br><span class="line"></span><br><span class="line">curr_branch=`git symbolic-ref --short -q HEAD`</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"å½“å‰åˆ†æ”¯ï¼š<span class="variable">$curr_branch</span>"</span></span><br><span class="line">build_branch=<span class="string">'master'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="string">"<span class="variable">$curr_branch</span>"</span> != <span class="string">"<span class="variable">$build_branch</span>"</span> ]];<span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"å½“å‰ä¸æ˜¯masteråˆ†æ”¯ï¼Œä¸ç¼–è¯‘"</span></span><br><span class="line">    <span class="built_in">exit</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#xargs å®ç° trim åŠŸèƒ½</span></span><br><span class="line">latest_tag=$(git describe --tags `git rev-list --tags --max-count=1` | xargs)</span><br><span class="line"><span class="comment">#è¯»å–AndroidManifestæ–‡ä»¶ç¬¬6è¡ŒversionNameé…ç½®</span></span><br><span class="line">app_version=`sed -n <span class="string">"6p"</span> ./CainiaoCRM/src/main/AndroidManifest.xml | sed -e <span class="string">'s/android:versionName=\"\(.*\)\"&gt;/\1/'</span> | xargs`</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"æœ€æ–°tagï¼š<span class="variable">$latest_tag</span>"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"å½“å‰appç¼–è¯‘ç‰ˆæœ¬ï¼š<span class="variable">$app_version</span>"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="string">"<span class="variable">$latest_tag</span>"</span> != <span class="string">"<span class="variable">$app_version</span>"</span> ]];<span class="keyword">then</span></span><br><span class="line">    <span class="comment">#ç¡®è®¤ç‰ˆæœ¬å·</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"å½“å‰Appç¼–è¯‘ç‰ˆæœ¬å’ŒTagç‰ˆæœ¬ä¸åŒï¼Œæ˜¯å¦ç»§ç»­ç¼–è¯‘(y/n)ï¼š"</span></span><br><span class="line">    <span class="built_in">read</span> USER_CONFIRM_VERSION</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> [[ <span class="string">"<span class="variable">$USER_CONFIRM_VERSION</span>"</span> = <span class="string">"n"</span> ]] || [[ <span class="string">"<span class="variable">$USER_CONFIRM_VERSION</span>"</span> = <span class="string">"N"</span> ]] || [[ -z <span class="string">"<span class="variable">$USER_CONFIRM_VERSION</span>"</span> ]];<span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"ç»“æŸç¼–è¯‘"</span></span><br><span class="line">        <span class="built_in">exit</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#åˆ›å»ºTag</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"å½“å‰Appç¼–è¯‘ç‰ˆæœ¬å’ŒTagç‰ˆæœ¬ä¸åŒï¼Œæ˜¯å¦åˆ›å»ºæ–°ç‰ˆæœ¬Tag(y/n)ï¼š"</span></span><br><span class="line">    <span class="built_in">read</span> USER_CONFIRM_CREATE_TAG</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> [[ <span class="string">"<span class="variable">$USER_CONFIRM_CREATE_TAG</span>"</span> = <span class="string">"n"</span> ]] || [[ <span class="string">"<span class="variable">$USER_CONFIRM_CREATE_TAG</span>"</span> = <span class="string">"N"</span> ]] || [[ -z <span class="string">"<span class="variable">$USER_CONFIRM_CREATE_TAG</span>"</span> ]];<span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"ç»“æŸç¼–è¯‘"</span></span><br><span class="line">        <span class="built_in">exit</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        git push origin <span class="variable">$&#123;app_version&#125;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"å¼€å§‹ç¼–è¯‘...."</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;ç”±äºè¿›å…¥åˆ›ä¸šå…¬å¸ï¼Œæ²¡æœ‰ä¸€å¥—å®Œæ•´çš„å¼€å‘æµç¨‹ï¼Œæ¯ä¸ªäººéƒ½æœ‰ä¸åŒçš„å¼€å‘æ–¹å¼ï¼Œå¯¼è‡´çº¿ä¸Šå‡ºçº¿bug&lt;br&gt;  BugåŸå› ï¼šç”±äºandroidé¡¹ç›®ï¼Œå‘å¸ƒéƒ¨ç½²çš„åˆ†æ”¯æ²¡æœ‰è¢«é™åˆ¶å¯¼è‡´ç”¨æˆ·ä½¿ç”¨äº†å¼€å‘åˆ†æ”¯çš„ç‰ˆæœ¬ã€‚&lt;br&gt;  è§£å†³ï¼šåœ¨ç¼–è¯‘è„šæœ¬ä¸­æ·»åŠ é™åˆ¶&lt;/p&gt;
&lt;/bloc
      
    
    </summary>
    
      <category term="fe" scheme="http://fengtianhe.cn/categories/fe/"/>
    
    
      <category term="é¡¹ç›®å‘å¸ƒ" scheme="http://fengtianhe.cn/tags/%E9%A1%B9%E7%9B%AE%E5%8F%91%E5%B8%83/"/>
    
      <category term="ReactNative" scheme="http://fengtianhe.cn/tags/ReactNative/"/>
    
      <category term="Android" scheme="http://fengtianhe.cn/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>å¼€å‘å·¥å…·-Terminalé…è‰²æ–¹æ¡ˆ</title>
    <link href="http://fengtianhe.cn/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7-terminal%E9%85%8D%E8%89%B2%E6%96%B9%E6%A1%88/"/>
    <id>http://fengtianhe.cn/å¼€å‘å·¥å…·-terminalé…è‰²æ–¹æ¡ˆ/</id>
    <published>2018-06-12T09:49:05.000Z</published>
    <updated>2019-11-07T01:56:39.310Z</updated>
    
    <content type="html"><![CDATA[<h2 id="MACä¸‹Iterm2é…è‰²æ–¹æ¡ˆ"><a href="#MACä¸‹Iterm2é…è‰²æ–¹æ¡ˆ" class="headerlink" title="MACä¸‹Iterm2é…è‰²æ–¹æ¡ˆ"></a>MACä¸‹Iterm2é…è‰²æ–¹æ¡ˆ</h2><h3 id="1-ç¼–è¾‘bash-profileæ–‡ä»¶"><a href="#1-ç¼–è¾‘bash-profileæ–‡ä»¶" class="headerlink" title="1.ç¼–è¾‘bash_profileæ–‡ä»¶"></a>1.ç¼–è¾‘bash_profileæ–‡ä»¶</h3><p><code>vim ~/.bash_profile</code></p><h3 id="2-å¸¦æœ‰-git-åˆ†æ”¯å½¢å¼çš„"><a href="#2-å¸¦æœ‰-git-åˆ†æ”¯å½¢å¼çš„" class="headerlink" title="2.å¸¦æœ‰ git åˆ†æ”¯å½¢å¼çš„"></a>2.å¸¦æœ‰ git åˆ†æ”¯å½¢å¼çš„</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">find_git_branch</span></span> () &#123;</span><br><span class="line">    <span class="built_in">local</span> dir=. head</span><br><span class="line">    until [ <span class="string">"<span class="variable">$dir</span>"</span> -ef / ]; <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">if</span> [ -f <span class="string">"<span class="variable">$dir</span>/.git/HEAD"</span> ]; <span class="keyword">then</span></span><br><span class="line">        head=$(&lt; <span class="string">"<span class="variable">$dir</span>/.git/HEAD"</span>)</span><br><span class="line">        <span class="keyword">if</span> [[ <span class="variable">$head</span> = ref:\ refs/heads/* ]]; <span class="keyword">then</span></span><br><span class="line">            git_branch=<span class="string">" (<span class="variable">$&#123;head#*/*/&#125;</span>)"</span></span><br><span class="line">        <span class="keyword">elif</span> [[ <span class="variable">$head</span> != <span class="string">''</span> ]]; <span class="keyword">then</span></span><br><span class="line">            git_branch=<span class="string">" â†’ (detached)"</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            git_branch=<span class="string">" â†’ (unknow)"</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">    <span class="built_in">return</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    dir=<span class="string">"../<span class="variable">$dir</span>"</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">    git_branch=<span class="string">''</span></span><br><span class="line">&#125;</span><br><span class="line">PROMPT_COMMAND=<span class="string">"find_git_branch; <span class="variable">$PROMPT_COMMAND</span>"</span></span><br><span class="line">green=$<span class="string">'\[\033[01;32m\]'</span></span><br><span class="line">grey=$<span class="string">'\[\033[00m\]'</span></span><br><span class="line">blue=$<span class="string">'\[\033[01;36m\]'</span></span><br><span class="line">red=$<span class="string">'\[\e[1;31m\]'</span></span><br><span class="line">PS1=<span class="string">"<span class="variable">$green</span>\u@\h<span class="variable">$grey</span>:<span class="variable">$blue</span>\W<span class="variable">$red</span>\$git_branch<span class="variable">$grey</span>\$    "</span></span><br></pre></td></tr></table></figure><h3 id="3-æ²¡æœ‰-git-åˆ†æ”¯å½¢å¼çš„"><a href="#3-æ²¡æœ‰-git-åˆ†æ”¯å½¢å¼çš„" class="headerlink" title="3.æ²¡æœ‰ git åˆ†æ”¯å½¢å¼çš„"></a>3.æ²¡æœ‰ git åˆ†æ”¯å½¢å¼çš„</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#enables colorin the terminal bash shell export</span></span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">CLICOLOR</span>=1</span><br><span class="line"></span><br><span class="line"><span class="comment">#setsup thecolor scheme for list export</span></span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">LSCOLORS</span>=gxfxcxdxbxegedabagacad</span><br><span class="line"></span><br><span class="line"><span class="comment">#sets up theprompt color (currently a green similar to linux terminal)</span></span><br><span class="line"><span class="comment">#export PS1='\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;36m\]\w\[\033[00m\]\$    '</span></span><br><span class="line"><span class="comment">#enables colorfor iTerm</span></span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">TERM</span>=xterm-256color</span><br></pre></td></tr></table></figure><h3 id="4-ç”Ÿæ•ˆé…ç½®"><a href="#4-ç”Ÿæ•ˆé…ç½®" class="headerlink" title="4.ç”Ÿæ•ˆé…ç½®"></a>4.ç”Ÿæ•ˆé…ç½®</h3><p><code>source ~/.bash_profile</code></p><h3 id="5-æ•ˆæœå›¾"><a href="#5-æ•ˆæœå›¾" class="headerlink" title="5.æ•ˆæœå›¾"></a>5.æ•ˆæœå›¾</h3><p><img src="/images/20180612-1.jpg" alt="å¸¦æœ‰gitåˆ†æ”¯"><br><img src="/images/20180612-2.jpg" alt="æ²¡æœ‰gitåˆ†æ”¯"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;MACä¸‹Iterm2é…è‰²æ–¹æ¡ˆ&quot;&gt;&lt;a href=&quot;#MACä¸‹Iterm2é…è‰²æ–¹æ¡ˆ&quot; class=&quot;headerlink&quot; title=&quot;MACä¸‹Iterm2é…è‰²æ–¹æ¡ˆ&quot;&gt;&lt;/a&gt;MACä¸‹Iterm2é…è‰²æ–¹æ¡ˆ&lt;/h2&gt;&lt;h3 id=&quot;1-ç¼–è¾‘bash-profileæ–‡
      
    
    </summary>
    
      <category term="others" scheme="http://fengtianhe.cn/categories/others/"/>
    
    
      <category term="å¼€å‘å·¥å…·" scheme="http://fengtianhe.cn/tags/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>Let&#39;s Encryptï¼Œå…è´¹å¥½ç”¨çš„ HTTPS è¯ä¹¦</title>
    <link href="http://fengtianhe.cn/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE--%E5%85%8D%E8%B4%B9%E5%A5%BD%E7%94%A8%E7%9A%84HTTPS/"/>
    <id>http://fengtianhe.cn/æœåŠ¡å™¨é…ç½®--å…è´¹å¥½ç”¨çš„HTTPS/</id>
    <published>2018-05-22T04:21:38.000Z</published>
    <updated>2019-11-07T01:56:39.319Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>  æœ¬æ–‡è½¬è‡ª<a href="https://imququ.com/post/letsencrypt-certificate.html">Jerry Qu çš„ Letâ€™s Encryptï¼Œå…è´¹å¥½ç”¨çš„ HTTPS è¯ä¹¦</a>ã€‚å¦‚æœéœ€è¦æŸ¥çœ‹è¯„è®ºå’Œè§£å†³æ–¹æ¡ˆï¼Œè¯·ç‚¹å‡»</p></blockquote><h2 id="1-åˆ›å»ºè´¦å·"><a href="#1-åˆ›å»ºè´¦å·" class="headerlink" title="1.åˆ›å»ºè´¦å·"></a>1.åˆ›å»ºè´¦å·</h2><p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªç›®å½•ï¼Œä¾‹å¦‚ <code>ssl</code>ï¼Œç”¨æ¥å­˜æ”¾å„ç§ä¸´æ—¶æ–‡ä»¶å’Œæœ€åçš„è¯ä¹¦æ–‡ä»¶ã€‚è¿›å…¥è¿™ä¸ªç›®å½•ï¼Œåˆ›å»ºä¸€ä¸ª RSA ç§é’¥ç”¨äº Letâ€™s Encrypt è¯†åˆ«ä½ çš„èº«ä»½ï¼š</p><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl genrsa <span class="number">4096</span> &gt; account.<span class="type">key</span></span><br></pre></td></tr></table></figure><h2 id="2-åˆ›å»º-CSR-æ–‡ä»¶"><a href="#2-åˆ›å»º-CSR-æ–‡ä»¶" class="headerlink" title="2.åˆ›å»º CSR æ–‡ä»¶"></a>2.åˆ›å»º CSR æ–‡ä»¶</h2><p>æ¥ç€å°±å¯ä»¥ç”Ÿæˆ CSRï¼ˆCertificate Signing Requestï¼Œè¯ä¹¦ç­¾åè¯·æ±‚ï¼‰æ–‡ä»¶äº†ã€‚åœ¨è¿™ä¹‹å‰ï¼Œè¿˜éœ€è¦åˆ›å»ºåŸŸåç§é’¥ï¼ˆä¸€å®šä¸è¦ä½¿ç”¨ä¸Šé¢çš„è´¦æˆ·ç§é’¥ï¼‰ï¼Œæ ¹æ®è¯ä¹¦ä¸åŒç±»å‹ï¼ŒåŸŸåç§é’¥ä¹Ÿå¯ä»¥é€‰æ‹© RSA å’Œ ECC ä¸¤ç§ä¸åŒç±»å‹ã€‚ä»¥ä¸‹ä¸¤ç§æ–¹å¼è¯·æ ¹æ®å®é™…æƒ…å†µäºŒé€‰ä¸€ã€‚<br>1ï¼‰åˆ›å»º RSA ç§é’¥ï¼ˆå…¼å®¹æ€§å¥½ï¼‰ï¼š</p><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl genrsa <span class="number">4096</span> &gt; domain.<span class="type">key</span></span><br></pre></td></tr></table></figure><p>2ï¼‰åˆ›å»º ECC ç§é’¥ï¼ˆéƒ¨åˆ†è€æ—§æ“ä½œç³»ç»Ÿã€æµè§ˆå™¨ä¸æ”¯æŒã€‚ä¼˜ç‚¹æ˜¯è¯ä¹¦ä½“ç§¯å°ï¼‰ï¼š</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#secp256r1</span></span><br><span class="line">openssl ecparam -genkey -name secp256r1 <span class="string">| openssl ec -out domain.key</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#secp384r1</span></span><br><span class="line">openssl ecparam -genkey -name secp384r1 <span class="string">| openssl ec -out domain.key</span></span><br></pre></td></tr></table></figure><p>æœ‰å…³ ECC è¯ä¹¦çš„æ›´å¤šä»‹ç»ï¼Œè¯·<a href="https://imququ.com/post/optimize-tls-handshake.html#toc-2-1">ç‚¹å‡»è¿™é‡Œ</a>ã€‚</p><p>æœ‰äº†ç§é’¥æ–‡ä»¶ï¼Œå°±å¯ä»¥ç”Ÿæˆ CSR æ–‡ä»¶äº†ã€‚åœ¨ CSR ä¸­æ¨èè‡³å°‘æŠŠåŸŸåå¸¦ www å’Œä¸å¸¦ www çš„ä¸¤ç§æƒ…å†µéƒ½åŠ è¿›å»ï¼Œå…¶å®ƒå­åŸŸå¯ä»¥æ ¹æ®éœ€è¦æ·»åŠ ï¼ˆç›®å‰ä¸€å¼ è¯ä¹¦æœ€å¤šå¯ä»¥åŒ…å« 100 ä¸ªåŸŸåï¼‰ï¼š</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl req -<span class="built_in">new</span> -sha256 -<span class="built_in">key</span> <span class="built_in">domain</span>.<span class="built_in">key</span> -subj <span class="string">"/"</span> -reqexts SAN -config &lt;(cat /etc/ssl/openssl.cnf &lt;(<span class="built_in">printf</span> <span class="string">"[SAN]\nsubjectAltName=DNS:yoursite.com,DNS:www.yoursite.com"</span>)) &gt; <span class="built_in">domain</span>.csr</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œè¿™ä¸€æ­¥æ—¶ï¼Œå¦‚æœæç¤ºæ‰¾ä¸åˆ° /etc/ssl/openssl.cnf æ–‡ä»¶ï¼Œè¯·çœ‹çœ‹ /usr/local/openssl/ssl/openssl.cnf æ˜¯å¦å­˜åœ¨ã€‚å¦‚æœè¿˜æ˜¯ä¸è¡Œï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨äº¤äº’æ–¹å¼åˆ›å»º CSRï¼ˆéœ€è¦æ³¨æ„ Common Name å¿…é¡»ä¸ºä½ çš„åŸŸåï¼‰ï¼š</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl req -<span class="built_in">new</span> -sha256 -<span class="built_in">key</span> <span class="built_in">domain</span>.<span class="built_in">key</span> -out <span class="built_in">domain</span>.csr</span><br></pre></td></tr></table></figure><h2 id="3-é…ç½®éªŒè¯æœåŠ¡"><a href="#3-é…ç½®éªŒè¯æœåŠ¡" class="headerlink" title="3.é…ç½®éªŒè¯æœåŠ¡"></a>3.é…ç½®éªŒè¯æœåŠ¡</h2><p>æˆ‘ä»¬çŸ¥é“ï¼ŒCA åœ¨ç­¾å‘ DVï¼ˆDomain Validationï¼‰è¯ä¹¦æ—¶ï¼Œéœ€è¦éªŒè¯åŸŸåæ‰€æœ‰æƒã€‚ä¼ ç»Ÿ CA çš„éªŒè¯æ–¹å¼ä¸€èˆ¬æ˜¯å¾€ <a href="mailto:`admin@yoursite.com">`admin@yoursite.com</a>` å‘éªŒè¯é‚®ä»¶ï¼Œè€Œ Letâ€™s Encrypt æ˜¯åœ¨ä½ çš„æœåŠ¡å™¨ä¸Šç”Ÿæˆä¸€ä¸ªéšæœºéªŒè¯æ–‡ä»¶ï¼Œå†é€šè¿‡åˆ›å»º CSR æ—¶æŒ‡å®šçš„åŸŸåè®¿é—®ï¼Œå¦‚æœå¯ä»¥è®¿é—®åˆ™è¡¨æ˜ä½ å¯¹è¿™ä¸ªåŸŸåæœ‰æ§åˆ¶æƒã€‚</p><p>é¦–å…ˆåˆ›å»ºç”¨äºå­˜æ”¾éªŒè¯æ–‡ä»¶çš„ç›®å½•ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> ~/www/challenges/</span><br></pre></td></tr></table></figure><p>ç„¶åé…ç½®ä¸€ä¸ª HTTP æœåŠ¡ï¼Œä»¥ Nginx ä¸ºä¾‹ï¼š</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">server_name</span> www.yoursite.com yoursite.com;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">location</span><span class="regexp"> ^~</span> /.well-known/acme-challenge/ &#123;</span><br><span class="line">        <span class="attribute">alias</span> /home/xxx/www/challenges/;</span><br><span class="line">        <span class="attribute">try_files</span> <span class="variable">$uri</span> =<span class="number">404</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">location</span> / &#123;</span><br><span class="line">        <span class="attribute">rewrite</span><span class="regexp"> ^/(.*)$</span> https://yoursite.com/<span class="variable">$1</span> <span class="literal">permanent</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šé…ç½®ä¼˜å…ˆæŸ¥æ‰¾ ~/www/challenges/ ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå¦‚æœæ‰¾ä¸åˆ°å°±é‡å®šå‘åˆ° HTTPS åœ°å€ã€‚è¿™ä¸ªéªŒè¯æœåŠ¡ä»¥åæ›´æ–°è¯ä¹¦è¿˜è¦ç”¨åˆ°ï¼Œå»ºè®®ä¸€ç›´ä¿ç•™ã€‚</p><h2 id="4-è·å–ç½‘ç«™è¯ä¹¦"><a href="#4-è·å–ç½‘ç«™è¯ä¹¦" class="headerlink" title="4.è·å–ç½‘ç«™è¯ä¹¦"></a>4.è·å–ç½‘ç«™è¯ä¹¦</h2><p>å…ˆæŠŠ acme-tiny è„šæœ¬ä¿å­˜åˆ°ä¹‹å‰çš„ ssl ç›®å½•ï¼š<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https:<span class="regexp">//</span>raw.githubusercontent.com<span class="regexp">/diafygi/</span>acme-tiny<span class="regexp">/master/</span>acme_tiny.py</span><br></pre></td></tr></table></figure></p><p>æŒ‡å®šè´¦æˆ·ç§é’¥ã€CSR ä»¥åŠéªŒè¯ç›®å½•ï¼Œæ‰§è¡Œè„šæœ¬ï¼š<br><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python acme_tiny.py <span class="params">--account-key</span> <span class="string">./account.key</span> <span class="params">--csr</span> <span class="string">./domain.csr</span> <span class="params">--acme-dir</span> ~<span class="string">/www/challenges/</span> &gt; <span class="string">./signed.crt</span></span><br></pre></td></tr></table></figure></p><p>å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œå½“å‰ç›®å½•ä¸‹å°±ä¼šç”Ÿæˆä¸€ä¸ª signed.crtï¼Œè¿™å°±æ˜¯ç”³è¯·å¥½çš„è¯ä¹¦æ–‡ä»¶ã€‚</p><p>å¦‚æœä½ æŠŠåŸŸå DNS è§£ææ”¾åœ¨å›½å†…ï¼Œè¿™ä¸€æ­¥å¾ˆå¯èƒ½ä¼šé‡åˆ°ç±»ä¼¼è¿™æ ·çš„é”™è¯¯ï¼š<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ValueError: Wrote <span class="keyword">file</span> to <span class="regexp">/home/</span>xxx<span class="regexp">/www/</span>challenges<span class="regexp">/oJbvpIhkwkBGBAQUklWJXyC8VbWAdQqlgpwUJkgC1Vg, but couldn't download http:/</span><span class="regexp">/www.yoursite.com/</span>.well-known<span class="regexp">/acme-challenge/</span>oJbvpIhkwkBGBAQUklWJXyC8VbWAdQqlgpwUJkgC1Vg</span><br></pre></td></tr></table></figure></p><p>è¿™æ˜¯å› ä¸ºä½ çš„åŸŸåå¾ˆå¯èƒ½åœ¨å›½å¤–æ— æ³•è§£æï¼Œå¯ä»¥æ‰¾å°å›½å¤– VPS éªŒè¯ä¸‹ã€‚æˆ‘çš„åŸŸåæœ€è¿‘ä» DNSPod æ¢åˆ°äº†é˜¿é‡Œäº‘è§£æï¼Œæœ€ååˆæ¢åˆ°äº† CloudXNSï¼Œå°±æ˜¯å› ä¸ºæœ€è¿‘å‰ä¸¤å®¶åœ¨å›½å¤–éƒ½å¾ˆä¸ç¨³å®šã€‚å¦‚æœä½ ä¹Ÿé‡åˆ°äº†ç±»ä¼¼æƒ…å†µï¼Œå¯ä»¥æš‚æ—¶ä½¿ç”¨å›½å¤–çš„ DNS è§£ææœåŠ¡å•†ï¼Œä¾‹å¦‚ dns.he.netã€‚å¦‚æœè¿˜æ˜¯æä¸å®šï¼Œä¹Ÿå¯ä»¥è¯•è¯•ã€ŒNeilpang/leã€è¿™ä¸ªå·¥å…·çš„ DNS Modeã€‚</p><p>æå®šç½‘ç«™è¯ä¹¦åï¼Œè¿˜è¦ä¸‹è½½ Letâ€™s Encrypt çš„ä¸­é—´è¯ä¹¦ã€‚æˆ‘åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­è®²è¿‡ï¼Œé…ç½® HTTPS è¯ä¹¦æ—¶æ—¢ä¸è¦æ¼æ‰ä¸­é—´è¯ä¹¦ï¼Œä¹Ÿä¸è¦åŒ…å«æ ¹è¯ä¹¦ã€‚åœ¨ Nginx é…ç½®ä¸­ï¼Œéœ€è¦æŠŠä¸­é—´è¯ä¹¦å’Œç½‘ç«™è¯ä¹¦åˆåœ¨ä¸€èµ·ï¼š<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget -O - https:<span class="comment">//letsencrypt.org/certs/lets-encrypt-x3-cross-signed.pem &gt; intermediate.pem</span></span><br><span class="line">cat signed<span class="selector-class">.crt</span> intermediate<span class="selector-class">.pem</span> &gt; chained.pem</span><br></pre></td></tr></table></figure></p><p>ä¸ºäº†åç»­èƒ½é¡ºåˆ©å¯ç”¨ OCSP Staplingï¼Œæˆ‘ä»¬å†æŠŠæ ¹è¯ä¹¦å’Œä¸­é—´è¯ä¹¦åˆåœ¨ä¸€èµ·ï¼š<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget -O - https:<span class="comment">//letsencrypt.org/certs/isrgrootx1.pem &gt; root.pem</span></span><br><span class="line">cat intermediate<span class="selector-class">.pem</span> root<span class="selector-class">.pem</span> &gt; full_chained.pem</span><br></pre></td></tr></table></figure></p><p>æœ€ç»ˆï¼Œä¿®æ”¹ Nginx ä¸­æœ‰å…³è¯ä¹¦çš„é…ç½®å¹¶ reload æœåŠ¡å³å¯ï¼š<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssl_certificate     ~<span class="regexp">/www/ssl</span><span class="regexp">/chained.pem;</span></span><br><span class="line"><span class="regexp">ssl_certificate_key ~/www</span><span class="regexp">/ssl/domain</span>.key;</span><br></pre></td></tr></table></figure></p><p>Nginx ä¸­ä¸ HTTPS æœ‰å…³çš„é…ç½®é¡¹å¾ˆå¤šï¼Œè¿™é‡Œä¸ä¸€ä¸€åˆ—ä¸¾äº†ã€‚å¦‚æœ‰éœ€è¦ï¼Œè¯·<a href="https://imququ.com/post/my-nginx-conf.html">å‚è€ƒæœ¬ç«™é…ç½®</a></p><h2 id="5-é…ç½®è‡ªåŠ¨æ›´æ–°"><a href="#5-é…ç½®è‡ªåŠ¨æ›´æ–°" class="headerlink" title="5.é…ç½®è‡ªåŠ¨æ›´æ–°"></a>5.é…ç½®è‡ªåŠ¨æ›´æ–°</h2><p>Letâ€™s Encrypt ç­¾å‘çš„è¯ä¹¦åªæœ‰ 90 å¤©æœ‰æ•ˆæœŸï¼Œæ¨èä½¿ç”¨è„šæœ¬å®šæœŸæ›´æ–°ã€‚ä¾‹å¦‚æˆ‘å°±åˆ›å»ºäº†ä¸€ä¸ª renew_cert.sh å¹¶é€šè¿‡ chmod a+x renew_cert.sh èµ‹äºˆæ‰§è¡Œæƒé™ã€‚æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> /home/xxx/www/ssl/</span><br><span class="line">python acme_tiny.py --account-key account.key --csr domain.csr --acme-dir /home/xxx/www/challenges/ &gt; signed.crt || <span class="built_in">exit</span></span><br><span class="line">wget -O - https://letsencrypt.org/certs/lets-encrypt-x3-cross-signed.pem &gt; intermediate.pem</span><br><span class="line">cat signed.crt intermediate.pem &gt; chained.pem</span><br><span class="line">service nginx reload</span><br></pre></td></tr></table></figure><p>crontab ä¸­ä½¿ç”¨ç»å¯¹è·¯å¾„æ¯”è¾ƒä¿é™©ï¼Œcrontab -e åŠ å…¥ä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">0 </span><span class="number">0</span> <span class="number">1</span> * * /home/xxx/<span class="keyword">shell</span>/renew_cert.sh &gt;/dev/null <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br></pre></td></tr></table></figure></p><p>è¿™æ ·ä»¥åè¯ä¹¦æ¯ä¸ªæœˆéƒ½ä¼šè‡ªåŠ¨æ›´æ–°ï¼Œä¸€åŠ³æ°¸é€¸ã€‚å®é™…ä¸Šï¼ŒLetâ€™s Encrypt å®˜æ–¹å°†è¯ä¹¦æœ‰æ•ˆæœŸå®šä¸º 90 å¤©ä¸€æ–¹é¢æ˜¯ä¸ºäº†æ›´å®‰å…¨ï¼Œæ›´é‡è¦çš„æ˜¯é¼“åŠ±ç”¨æˆ·é‡‡ç”¨è‡ªåŠ¨åŒ–éƒ¨ç½²æ–¹æ¡ˆã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;  æœ¬æ–‡è½¬è‡ª&lt;a href=&quot;https://imququ.com/post/letsencrypt-certificate.html&quot;&gt;Jerry Qu çš„ Letâ€™s Encryptï¼Œå…è´¹å¥½ç”¨çš„ HTTPS è¯ä¹¦&lt;/a&gt;ã€‚å¦‚æœéœ€è¦æŸ¥çœ‹è¯„è®ºå’Œè§£å†³
      
    
    </summary>
    
      <category term="server" scheme="http://fengtianhe.cn/categories/server/"/>
    
    
      <category term="æœåŠ¡å™¨" scheme="http://fengtianhe.cn/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>MySQLæ•°æ®åº“ä¼˜åŒ–ã€4ã€‘åˆ†ææœ‰é—®é¢˜çš„sqlè¯­å¥</title>
    <link href="http://fengtianhe.cn/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BC%98%E5%8C%96%E3%80%904%E3%80%91%E5%88%86%E6%9E%90%E6%9C%89%E9%97%AE%E9%A2%98%E7%9A%84sql%E8%AF%AD%E5%8F%A5/"/>
    <id>http://fengtianhe.cn/MySQLæ•°æ®åº“ä¼˜åŒ–ã€4ã€‘åˆ†ææœ‰é—®é¢˜çš„sqlè¯­å¥/</id>
    <published>2018-03-21T07:22:38.000Z</published>
    <updated>2019-11-07T01:56:39.285Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é€šè¿‡æ…¢æŸ¥æ—¥å¿—åˆ†ææœ‰é—®é¢˜çš„è¯­å¥"><a href="#é€šè¿‡æ…¢æŸ¥æ—¥å¿—åˆ†ææœ‰é—®é¢˜çš„è¯­å¥" class="headerlink" title="é€šè¿‡æ…¢æŸ¥æ—¥å¿—åˆ†ææœ‰é—®é¢˜çš„è¯­å¥"></a>é€šè¿‡æ…¢æŸ¥æ—¥å¿—åˆ†ææœ‰é—®é¢˜çš„è¯­å¥</h2><h3 id="1ã€æŸ¥è¯¢æ¬¡æ•°å¤šåˆ‡æ¯æ¬¡æŸ¥è¯¢å ç”¨æ—¶é—´é•¿çš„SQL"><a href="#1ã€æŸ¥è¯¢æ¬¡æ•°å¤šåˆ‡æ¯æ¬¡æŸ¥è¯¢å ç”¨æ—¶é—´é•¿çš„SQL" class="headerlink" title="1ã€æŸ¥è¯¢æ¬¡æ•°å¤šåˆ‡æ¯æ¬¡æŸ¥è¯¢å ç”¨æ—¶é—´é•¿çš„SQL"></a>1ã€æŸ¥è¯¢æ¬¡æ•°å¤šåˆ‡æ¯æ¬¡æŸ¥è¯¢å ç”¨æ—¶é—´é•¿çš„SQL</h3><p>é€šå¸¸ä¸ºpt-qeury-digeståˆ†æçš„å‰å‡ ä¸ªæŸ¥è¯¢ï¼ŒæŸ¥çœ‹pt-query-digest ç¬¬ä¸‰éƒ¨åˆ†</p><p>Exec time é¡¹ä¸ºå ç”¨æ—¶é—´</p><h3 id="2ã€IOå¤§çš„SQL"><a href="#2ã€IOå¤§çš„SQL" class="headerlink" title="2ã€IOå¤§çš„SQL"></a>2ã€IOå¤§çš„SQL</h3><p>æ³¨æ„pt-query-digeståˆ†æä¸­Rows examineé¡¹ï¼Œæ‰«æçš„è¡Œæ•°å¤šï¼Œä¹Ÿå°±è¡¨ç¤ºå çš„IOå¤§</p><h3 id="3ã€æœªå‘½ä¸­ç´¢å¼•çš„SQL"><a href="#3ã€æœªå‘½ä¸­ç´¢å¼•çš„SQL" class="headerlink" title="3ã€æœªå‘½ä¸­ç´¢å¼•çš„SQL"></a>3ã€æœªå‘½ä¸­ç´¢å¼•çš„SQL</h3><p>æ³¨æ„pt-query-digestä¸­Rows examine å’Œ Rows Send çš„å¯¹æ¯”</p><p>å¦‚æœRows examine &gt;&gt; Rows Sendï¼Œå°±è¯´æ˜æƒ³è¦çš„æ•°æ®å°‘ï¼Œ ä½†æ˜¯æ‰«æåˆ°äº†å¤§é‡çš„æ•°æ®</p><hr><h2 id="ä½¿ç”¨explainæŸ¥è¯¢SQLçš„æ‰§è¡Œè®¡åˆ’"><a href="#ä½¿ç”¨explainæŸ¥è¯¢SQLçš„æ‰§è¡Œè®¡åˆ’" class="headerlink" title="ä½¿ç”¨explainæŸ¥è¯¢SQLçš„æ‰§è¡Œè®¡åˆ’"></a>ä½¿ç”¨explainæŸ¥è¯¢SQLçš„æ‰§è¡Œè®¡åˆ’</h2><p>eg:<code>mysql&gt; explain select customer_id,first_name,last_name from customer</code></p><pre><code>mysql&gt; explain select customer_id,first_name,last_name from customer;+----+-------------+----------+------------+------+---------------+------+---------+------+------+----------+-------+| id | select_type | table    | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra |+----+-------------+----------+------------+------+---------------+------+---------+------+------+----------+-------+|  1 | SIMPLE      | customer | NULL       | ALL  | NULL          | NULL | NULL    | NULL |  599 |   100.00 | NULL  |+----+-------------+----------+------------+------+---------------+------+---------+------+------+----------+-------+1 row in set, 1 warning (0.01 sec)</code></pre><ul><li>tableï¼šæ˜¾ç¤ºæŸ¥è¯¢çš„å“ªå¼ è¡¨</li><li>partitions: è¡¨ç¤ºç»™å®šè¡¨æ‰€ä½¿ç”¨çš„åŒºåŸŸä½¿ç”¨expain partitionsæ‰ä¼šæœ‰å€¼</li><li>typeï¼šè¿™æ˜¯é‡è¦çš„åˆ—ï¼Œæ˜¾ç¤ºè¿æ¥ä½¿ç”¨äº†å“ªç§ç±»å‹ï¼Œä»æœ€å¥½åˆ°æœ€å·®çš„è¿æ¥ç±»å‹ä¸º<code>const</code>ã€<code>eq_reg</code>ã€<code>ref</code>ã€<code>range</code>ã€<code>index</code>ã€<code>ALL</code><ul><li>constä¸ºå¸¸æ•°æŸ¥æ‰¾,åŸºæœ¬ä¸Šç”¨åˆ°ä¸»é”®æŸ¥è¯¢æˆ–è€…å”¯ä¸€ç´¢å¼•æŸ¥è¯¢ï¼›</li><li>eq_regä¸ºèŒƒå›´æŸ¥æ‰¾</li><li>refä¸ºåŸºäºç´¢å¼•çš„æŸ¥æ‰¾</li><li>rangeä¸ºåŸºäºç´¢å¼•çš„èŒƒå›´æŸ¥æ‰¾</li><li>indexä¸ºå¯¹äºç´¢å¼•çš„æ‰«æ</li><li>ALLä¸ºè¡¨æ‰«æ</li></ul></li><li>possible_keys: æ˜¾ç¤ºå¯èƒ½åº”ç”¨åœ¨è¿™å¼ è¡¨ä¸­çš„ç´¢å¼•ã€‚å¦‚æœä¸ºç©ºï¼Œæ²¡æœ‰å¯èƒ½çš„ç´¢å¼•ã€‚</li><li>keyï¼šå®é™…ä½¿ç”¨çš„ç´¢å¼•ï¼Œå¦‚æœä¸ºç©ºï¼Œåˆ™æ²¡æœ‰ä½¿ç”¨ç´¢å¼•</li><li>key_lenï¼šä½¿ç”¨çš„ç´¢å¼•çš„é•¿åº¦ã€‚åœ¨ä¸æŸå¤±ç²¾ç¡®æ€§çš„æƒ…å†µä¸‹ï¼Œé•¿åº¦è¶ŠçŸ­è¶Šå¥½ã€‚</li><li>refï¼šæ˜¾ç¤ºç´¢å¼•çš„å“ªä¸€åˆ—è¢«ä½¿ç”¨äº†ï¼Œå¦‚æœå¯èƒ½çš„è¯ï¼Œæ˜¯ä¸€ä¸ªå¸¸æ•°ã€‚</li><li>rowsï¼šMYSQLè®¤ä¸ºå¿…é¡»æ£€æŸ¥çš„ç”¨æ¥æ”¾å›è¯·æ±‚æ•°æ®çš„è¡Œæ•°ã€‚</li><li>filteredï¼šæ˜¾ç¤ºäº†é€šè¿‡æ¡ä»¶è¿‡æ»¤å‡ºçš„è¡Œæ•°çš„ç™¾åˆ†æ¯”ä¼°è®¡å€¼</li><li>extraï¼šé¢å¤–çš„å±æ€§å€¼ã€‚éœ€è¦æ³¨æ„çš„è¿”å›å€¼<ul><li>Using filesortï¼š[ä½¿ç”¨æ–‡ä»¶æ’åº]çœ‹åˆ°è¿™ä¸ªçš„æ—¶å€™ï¼ŒæŸ¥è¯¢å°±éœ€è¦ä¼˜åŒ–äº†ï¼ŒMYSQLéœ€è¦è¿›è¡Œé¢å¤–çš„æ­¥éª¤æ¥å‘ç°å¦‚ä½•å¯¹æ”¾å›çš„è¡Œæ’åºã€‚ä»–æ ¹æ®è¿æ¥ç±»å‹åŠå­˜å‚¨æ’åºé”®å€¼å’ŒåŒ¹é…æ¡ä»¶çš„å…¨éƒ¨è¡Œçš„æŒ‡é’ˆæ¥æ’åºå…¨éƒ¨è¡Œ</li><li>Using temporaryï¼š[æŸ¥è¯¢ç”¨åˆ°ä¸´æ—¶è¡¨]çœ‹åˆ°è¿™ä¸ªçš„æ—¶å€™ï¼ŒæŸ¥è¯¢å°±éœ€è¦ä¼˜åŒ–äº†ï¼Œè¿™é‡Œï¼ŒMYSQLéœ€è¦åˆ›å»ºä¸€ä¸ªä¸´æ—¶è¡¨æ¥å­˜å‚¨ç»“æœï¼Œè¿™é€šå¸¸å‘ç”Ÿåœ¨å¯¹ä¸åŒçš„åˆ—é›†è¿›è¡ŒORDER BYä¸Šï¼Œè€Œä¸æ˜¯GROUP BYä¸Š</li></ul></li></ul><hr><p>ä¸Šä¸€ç« :<a href="/MySQLæ•°æ®åº“ä¼˜åŒ–ã€3ã€‘æ…¢æŸ¥æ—¥å¿—åˆ†æå·¥å…·/">MySQLæ•°æ®åº“ä¼˜åŒ–ã€3ã€‘æ…¢æŸ¥æ—¥å¿—åˆ†æå·¥å…·</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;é€šè¿‡æ…¢æŸ¥æ—¥å¿—åˆ†ææœ‰é—®é¢˜çš„è¯­å¥&quot;&gt;&lt;a href=&quot;#é€šè¿‡æ…¢æŸ¥æ—¥å¿—åˆ†ææœ‰é—®é¢˜çš„è¯­å¥&quot; class=&quot;headerlink&quot; title=&quot;é€šè¿‡æ…¢æŸ¥æ—¥å¿—åˆ†ææœ‰é—®é¢˜çš„è¯­å¥&quot;&gt;&lt;/a&gt;é€šè¿‡æ…¢æŸ¥æ—¥å¿—åˆ†ææœ‰é—®é¢˜çš„è¯­å¥&lt;/h2&gt;&lt;h3 id=&quot;1ã€æŸ¥è¯¢æ¬¡æ•°å¤šåˆ‡æ¯æ¬¡æŸ¥è¯¢å ç”¨æ—¶é—´é•¿
      
    
    </summary>
    
      <category term="db" scheme="http://fengtianhe.cn/categories/db/"/>
    
    
      <category term="MySQL" scheme="http://fengtianhe.cn/tags/MySQL/"/>
    
      <category term="æ•°æ®åº“ä¼˜åŒ–" scheme="http://fengtianhe.cn/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BC%98%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>MySQLæ•°æ®åº“ä¼˜åŒ–ã€3ã€‘æ…¢æŸ¥æ—¥å¿—åˆ†æå·¥å…·</title>
    <link href="http://fengtianhe.cn/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BC%98%E5%8C%96%E3%80%903%E3%80%91%E6%85%A2%E6%9F%A5%E6%97%A5%E5%BF%97%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7/"/>
    <id>http://fengtianhe.cn/MySQLæ•°æ®åº“ä¼˜åŒ–ã€3ã€‘æ…¢æŸ¥æ—¥å¿—åˆ†æå·¥å…·/</id>
    <published>2018-03-19T07:19:46.000Z</published>
    <updated>2019-11-07T01:56:39.284Z</updated>
    
    <content type="html"><![CDATA[<h2 id="mysqldumpslow"><a href="#mysqldumpslow" class="headerlink" title="mysqldumpslow"></a>mysqldumpslow</h2><p>ç”¨äºæŸ¥çœ‹å¹¶æ ¼å¼åŒ–æ…¢æŸ¥æ—¥å¿—</p><p>å¦‚æœç³»ç»Ÿä¸­æ²¡æœ‰mysqldumpslowè¿™ä¸ªå‘½ä»¤ï¼Œ é‚£ä¹ˆåˆ°mysqlçš„å®‰è£…ç›®å½•ä¸‹çš„binç›®å½•ä¸‹æ‰¾è¿™ä¸ªå‘½ä»¤ï¼Œwindowå¯ä»¥è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œ linuxå’Œmacç”¨æˆ·å¯ä»¥è®¾ç½®è½¯è¿æ¥</p><pre><code>Usage: mysqldumpslow [OPTS...] [LOGS...]Pares and summarize the MySQL slow query log. Options are--verbose verbose--debug debug--help write this text to standard output-v           verbose-d           debug-s ORDER     what to sort by (al, at, ar, c, l, r, t), &apos;at&apos; is default                al: average lock time                ar: average rows sent                at: average query time                c: count                l: lock time                r: rows sent                t: query time-r           reverse the sort order (largest last instead of first)-t NUM       just show the top n queries-a           don&apos;t abstract all numbers to N and strings to &apos;S&apos;-n NUM       abstract numbers with at least n digits within names-g PATTERN   grep: only consider stmts that include this string-h HOSTNAME  hostname of db server for *-slow.log filename (can be wildcard),default is &apos;*&apos;, i.e. match all-i NAME      name of server instance (if using mysql.server startup script)-l           don&apos;t subtract lock time from total time</code></pre><p>ä¾‹ï¼š<code>mysqldumpslow -t 3 mysql-slow.log | more</code></p><p>è¾“å‡ºï¼š</p><pre><code>Reading mysql slow query log from mysql-slow.logCount: 1  Time=0.00s (0s)  Lock=0.00s (0s)  Rows=1.0 (1), root[root]@localhost  show variables like &apos;S&apos;Count: 1  Time=0.00s (0s)  Lock=0.00s (0s)  Rows=200.0 (200), root[root]@localhost  select  * from actorCount: 1  Time=0.00s (0s)  Lock=0.00s (0s)  Rows=9.0 (9), root[root]@localhost  show databases</code></pre><p>ç”±äºæ¼”ç¤ºï¼Œæˆ‘ä»¬æŠŠæ…¢æŸ¥è¶…æ—¶æ—¶é—´æ”¹æˆäº†0ï¼Œæ‰€ä»¥å‰ä¸‰æ¡åˆ—å‡ºäº†ä»¥ä¸Šè¿™äº›ï¼Œå¦å¤–æ…¢æŸ¥æ—¥å¿—ä¸­è®°å½•çš„æ˜¯è¿™ä¸ªæœåŠ¡å™¨æ‰€æœ‰çš„æ…¢æŸ¥è¯­å¥ï¼Œ è€Œä¸æ˜¯ä¸€ä¸ªæ•°æ®åº“çš„æ…¢æŸ¥æ—¥å¿—</p><p>ä»¥ä¸Šæ•°æ®æ˜¾ç¤ºäº†æ•°æ®æ‰§è¡Œçš„æ¬¡æ•°ã€æ‰§è¡Œæ—¶é—´ã€åŠ é”æ—¶é—´ã€å½±å“è¡Œæ•°ã€æ‰§è¡Œè§’è‰²å’Œæ‰§è¡Œåœ°å€</p><h2 id="pt-query-digest"><a href="#pt-query-digest" class="headerlink" title="pt-query-digest"></a>pt-query-digest</h2><p>ç”±äºè¿™æ˜¯ç¬¬ä¸‰æ–¹å·¥å…·ï¼Œå®‰è£…è¯·è‡ªè¡ŒæŸ¥è¯¢</p><p>å»ºè®®å®‰è£…ï¼Œ æ¯•ç«Ÿpt-query-digestæ¯”mysqldumpslowæ›´å¼ºå¤§</p><hr><p>ä¸Šä¸€ç« :<a href="/MySQLæ•°æ®åº“ä¼˜åŒ–ã€2ã€‘SQLåŠç´¢å¼•ä¼˜åŒ–/">MySQLæ•°æ®åº“ä¼˜åŒ–ã€2ã€‘SQLåŠç´¢å¼•ä¼˜åŒ–</a><br>ä¸‹ä¸€ç« :<a href="/MySQLæ•°æ®åº“ä¼˜åŒ–ã€4ã€‘åˆ†ææœ‰é—®é¢˜çš„sqlè¯­å¥/">MySQLæ•°æ®åº“ä¼˜åŒ–ã€4ã€‘åˆ†ææœ‰é—®é¢˜çš„sqlè¯­å¥</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;mysqldumpslow&quot;&gt;&lt;a href=&quot;#mysqldumpslow&quot; class=&quot;headerlink&quot; title=&quot;mysqldumpslow&quot;&gt;&lt;/a&gt;mysqldumpslow&lt;/h2&gt;&lt;p&gt;ç”¨äºæŸ¥çœ‹å¹¶æ ¼å¼åŒ–æ…¢æŸ¥æ—¥å¿—&lt;/p&gt;
&lt;p&gt;å¦‚æœç³»ç»Ÿä¸­æ²¡
      
    
    </summary>
    
      <category term="db" scheme="http://fengtianhe.cn/categories/db/"/>
    
    
      <category term="MySQL" scheme="http://fengtianhe.cn/tags/MySQL/"/>
    
      <category term="æ•°æ®åº“ä¼˜åŒ–" scheme="http://fengtianhe.cn/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BC%98%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>MySQLæ•°æ®åº“ä¼˜åŒ–ã€2ã€‘SQLåŠç´¢å¼•ä¼˜åŒ–</title>
    <link href="http://fengtianhe.cn/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BC%98%E5%8C%96%E3%80%902%E3%80%91SQL%E5%8F%8A%E7%B4%A2%E5%BC%95%E4%BC%98%E5%8C%96/"/>
    <id>http://fengtianhe.cn/MySQLæ•°æ®åº“ä¼˜åŒ–ã€2ã€‘SQLåŠç´¢å¼•ä¼˜åŒ–/</id>
    <published>2018-03-15T08:40:18.000Z</published>
    <updated>2019-11-07T01:56:39.282Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‡†å¤‡æ•°æ®"><a href="#å‡†å¤‡æ•°æ®" class="headerlink" title="å‡†å¤‡æ•°æ®"></a>å‡†å¤‡æ•°æ®</h2><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦å¤§é‡çš„æ•°æ®è¿›è¡Œåˆ†æï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨MySQLå®˜æ–¹æä¾›çš„sakilaæ•°æ®åº“ï¼š</p><p><a href="http://dev.mysql.com/doc/index-other.html">http://dev.mysql.com/doc/index-other.html</a></p><p>sakilaæ•°æ®åº“çš„å®‰è£…ä½¿ç”¨è¿‡ç¨‹ï¼š</p><p><a href="http://dev.mysql.com/doc/sakila/en/sakila-installation.html">http://dev.mysql.com/doc/sakila/en/sakila-installation.html</a></p><h2 id="å®‰è£…æ•°æ®"><a href="#å®‰è£…æ•°æ®" class="headerlink" title="å®‰è£…æ•°æ®"></a>å®‰è£…æ•°æ®</h2><p>ä¸‹è½½å¥½æ•°æ®ï¼Œä¾æ¬¡å€’å…¥Schamaå’ŒDataï¼Œæ˜¾ç¤ºå¦‚ä¸‹åˆ™ä¸ºæˆåŠŸ</p><pre><code>USE sakila;Database changedSHOW TABLES;+----------------------------+| Tables_in_sakila           |+----------------------------+| actor                      || address                    || category                   || city                       || country                    || customer                   || customer_list              || film                       || film_actor                 || film_category              || film_list                  || film_text                  || inventory                  || language                   || nicer_but_slower_film_list || payment                    || rental                     || sales_by_film_category     || sales_by_store             || staff                      || staff_list                 || store                      |+----------------------------+22 rows in set (0.00 sec)SELECT COUNT(*) FROM film;+----------+| COUNT(*) |+----------+| 1000     |+----------+1 row in set (0.02 sec)SELECT COUNT(*) FROM film_text;+----------+| COUNT(*) |+----------+| 1000     |+----------+1 row in set (0.00 sec)</code></pre><h2 id="MySQLæ…¢æŸ¥è¯¢æ—¥å¿—çš„å¼€å¯æ–¹å¼å’Œå‚¨å­˜æ ¼å¼"><a href="#MySQLæ…¢æŸ¥è¯¢æ—¥å¿—çš„å¼€å¯æ–¹å¼å’Œå‚¨å­˜æ ¼å¼" class="headerlink" title="MySQLæ…¢æŸ¥è¯¢æ—¥å¿—çš„å¼€å¯æ–¹å¼å’Œå‚¨å­˜æ ¼å¼"></a>MySQLæ…¢æŸ¥è¯¢æ—¥å¿—çš„å¼€å¯æ–¹å¼å’Œå‚¨å­˜æ ¼å¼</h2><p>é€šè¿‡æ…¢æŸ¥è¯¢æ—¥å¿—æˆ‘ä»¬å¯ä»¥çœ‹åˆ°é‚£äº›sqlæ˜¯åº”è¯¥ä¼˜åŒ–çš„ï¼Œé‚£æˆ‘ä»¬å¦‚ä½•å‘ç°æœ‰é—®é¢˜çš„SQLå‘¢ï¼Ÿ<br>ç­”æ¡ˆå°±æ˜¯ ä½¿ç”¨MySQLæ…¢æŸ¥æ—¥å¿—å¯¹æ•ˆç‡é—®é¢˜çš„SQLè¿›è¡Œç›‘æ§</p><ol><li><p>è®¾ç½®æ…¢æŸ¥è¯¢æ—¥å¿—è·¯å¾„(è®¾ç½®æƒé™)</p><p> <code>set global slow_query_log_file= &#39;/Users/fengtianhe/Log/mysql/mysql-slow.log&#39;;</code></p></li><li><p>è®¾ç½®æ²¡æœ‰ç´¢å¼•çš„è®°å½•åˆ°æ…¢æŸ¥è¯¢æ—¥å¿—</p><p> <code>set global log_queries_not_using_indexes=on;</code></p></li><li><p>æŸ¥çœ‹mysqlæ˜¯å¦å¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—</p><p> <code>show variables like &#39;slow_query_log&#39;;</code></p></li><li><p>å¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—</p><p> <code>set global slow_query_log=on;</code></p></li><li><p>æŸ¥çœ‹è¶…è¿‡å¤šé•¿æ—¶é—´çš„sqlè¿›è¡Œè®°å½•åˆ°æ…¢æŸ¥è¯¢æ—¥å¿—</p><p> <code>show variables like &#39;long_query_time&#39;;</code></p></li><li><p>è®¾ç½®sqlæ‰§è¡Œé•¿æ—¶é—´(å¦‚æœæ²¡å‘ç°ç”Ÿæ•ˆï¼Œ å°±é€€å‡ºæ•°æ®åº“é‡æ–°é“¾æ¥)</p><p> <code>set global long_query_time=0;</code></p></li></ol><h2 id="è¯•ä¸€è¯•"><a href="#è¯•ä¸€è¯•" class="headerlink" title="è¯•ä¸€è¯•"></a>è¯•ä¸€è¯•</h2><p>è®¾ç½®æ…¢æŸ¥æ—¥å¿—ä¹‹åçš„ä½ ä»¬ä¸€å®šè¿«ä¸åŠå¾…äº†å§ï¼Œè®©æˆ‘ä»¬è¯•è¯•å§</p><pre><code>use sakila;select * from actor;</code></pre><p>è¿™æ—¶æˆ‘ä»¬å¯ä»¥çœ‹çœ‹æ—¥å¿—ï¼Œå°±è®°å½•äº†æˆ‘ä»¬è¿™æ¬¡æŸ¥è¯¢çš„è®°å½•ç”±äºæ¼”ç¤ºæˆ‘ä»¬æŠŠè¶…æ—¶è®¾ç½®ä¸º0ï¼Œæ‰€ä»¥æ—¥å¿—ä¸­ä¼šè®°å½•æ‰€æœ‰çš„ä¿¡æ¯,ä¹Ÿè®°å½•äº†æˆ‘ä»¬æ‰§è¡Œçš„è¯­å¥</p><p><img src="/images/20180315-1.jpg" alt=""></p><p>é‚£ä¹ˆè®©æˆ‘ä»¬çœ‹çœ‹æ…¢æŸ¥è¯¢æ—¥å¿—éƒ½è®°å½•äº†äº›ä»€ä¹ˆ</p><ol><li>æ‰§è¡ŒSQLçš„ä¸»æœºä¿¡æ¯</li></ol><p><code># User@Host: root[root] @ localhost []</code></p><ol><li>SQLçš„æ‰§è¡Œä¿¡æ¯</li></ol><p><code># Query_time: 0.000461  Lock_time: 0.000064 Rows_sent: 200  Rows_examined: 200 SET timestamp=1521105352;</code></p><ol><li>SQLçš„æ‰§è¡Œæ—¶é—´</li></ol><p><code>SET timestamp=1521105352;</code></p><ol><li>SQLçš„å†…å®¹</li></ol><p><code>select  * from actor;</code></p><hr><p>ä¸Šä¸€ç« :<a href="/MySQLæ•°æ®åº“ä¼˜åŒ–ã€1ã€‘ç®€ä»‹/">MySQLæ•°æ®åº“ä¼˜åŒ–ã€1ã€‘ç®€ä»‹</a><br>ä¸‹ä¸€ç« :<a href="/MySQLæ•°æ®åº“ä¼˜åŒ–ã€3ã€‘æ…¢æŸ¥æ—¥å¿—åˆ†æå·¥å…·/">MySQLæ•°æ®åº“ä¼˜åŒ–ã€3ã€‘æ…¢æŸ¥æ—¥å¿—åˆ†æå·¥å…·</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å‡†å¤‡æ•°æ®&quot;&gt;&lt;a href=&quot;#å‡†å¤‡æ•°æ®&quot; class=&quot;headerlink&quot; title=&quot;å‡†å¤‡æ•°æ®&quot;&gt;&lt;/a&gt;å‡†å¤‡æ•°æ®&lt;/h2&gt;&lt;p&gt;é¦–å…ˆæˆ‘ä»¬éœ€è¦å¤§é‡çš„æ•°æ®è¿›è¡Œåˆ†æï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨MySQLå®˜æ–¹æä¾›çš„sakilaæ•°æ®åº“ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;h
      
    
    </summary>
    
      <category term="db" scheme="http://fengtianhe.cn/categories/db/"/>
    
    
      <category term="MySQL" scheme="http://fengtianhe.cn/tags/MySQL/"/>
    
      <category term="æ•°æ®åº“ä¼˜åŒ–" scheme="http://fengtianhe.cn/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BC%98%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>MySQLæ•°æ®åº“ä¼˜åŒ–ã€1ã€‘ç®€ä»‹</title>
    <link href="http://fengtianhe.cn/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BC%98%E5%8C%96%E3%80%901%E3%80%91%E7%AE%80%E4%BB%8B/"/>
    <id>http://fengtianhe.cn/MySQLæ•°æ®åº“ä¼˜åŒ–ã€1ã€‘ç®€ä»‹/</id>
    <published>2018-03-14T09:30:56.000Z</published>
    <updated>2019-11-07T01:56:39.280Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æ•°æ®åº“ä¼˜åŒ–æ˜¯ä¸€ä¸ªåˆä¸­çº§å¼€å‘äººå‘˜å¿…é¡»è¦äº†è§£è€Œä¸”ä¼šçš„ä¸œè¥¿ï¼Œå¹¶ä¸”è¿™ä¸ªæŠ€èƒ½åœ¨æ¯ä¸ªåç«¯å¼€å‘çš„é¢è¯•ä¸­éƒ½ä¼šé—®åˆ°çš„ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆæ•°æ®åº“ä¼˜åŒ–è¿™ä¹ˆé‡è¦ï¼Œæˆ‘ä»¬å°±ç”¨è¿™ä¸€ç³»åˆ—æ–‡ç« çœ‹ä¸€çœ‹</p></blockquote><h2 id="æ•°æ®åº“ä¼˜åŒ–çš„ç›®çš„"><a href="#æ•°æ®åº“ä¼˜åŒ–çš„ç›®çš„" class="headerlink" title="æ•°æ®åº“ä¼˜åŒ–çš„ç›®çš„"></a>æ•°æ®åº“ä¼˜åŒ–çš„ç›®çš„</h2><h3 id="é¿å…å‡ºç°é¡µé¢è®¿é—®é”™è¯¯"><a href="#é¿å…å‡ºç°é¡µé¢è®¿é—®é”™è¯¯" class="headerlink" title="é¿å…å‡ºç°é¡µé¢è®¿é—®é”™è¯¯"></a>é¿å…å‡ºç°é¡µé¢è®¿é—®é”™è¯¯</h3><ul><li>ç”±äºæ•°æ®åº“é“¾æ¥timeoutäº§ç”Ÿçš„5xxé”™è¯¯</li><li>ç”±äºæ…¢æŸ¥è¯¢é€ æˆçš„é¡µé¢æ— æ³•åŠ è½½</li><li>ç”±äºé˜»å¡é€ æˆçš„æ•°æ®æ— æ³•æäº¤<h3 id="å¢åŠ æ•°æ®åº“çš„ç¨³å®šæ€§"><a href="#å¢åŠ æ•°æ®åº“çš„ç¨³å®šæ€§" class="headerlink" title="å¢åŠ æ•°æ®åº“çš„ç¨³å®šæ€§"></a>å¢åŠ æ•°æ®åº“çš„ç¨³å®šæ€§</h3></li><li>å¾ˆå¤šæ•°æ®åº“é—®é¢˜éƒ½æ˜¯ç”±äºä½æ•ˆçš„æŸ¥è¯¢å¼•èµ·çš„<h3 id="ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ"><a href="#ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ" class="headerlink" title="ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ"></a>ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ</h3></li><li>æµç•…é¡µé¢çš„è®¿é—®é€Ÿåº¦</li><li>è‰¯å¥½çš„ç½‘ç«™åŠŸèƒ½ä½“éªŒ</li></ul><h2 id="æ•°æ®åº“ä¼˜åŒ–æ–¹å¼"><a href="#æ•°æ®åº“ä¼˜åŒ–æ–¹å¼" class="headerlink" title="æ•°æ®åº“ä¼˜åŒ–æ–¹å¼"></a>æ•°æ®åº“ä¼˜åŒ–æ–¹å¼</h2><h3 id="æŒ‰æˆæœ¬æ’åº-ç”±ä½åˆ°é«˜"><a href="#æŒ‰æˆæœ¬æ’åº-ç”±ä½åˆ°é«˜" class="headerlink" title="æŒ‰æˆæœ¬æ’åº(ç”±ä½åˆ°é«˜)"></a>æŒ‰æˆæœ¬æ’åº(ç”±ä½åˆ°é«˜)</h3><p>SQLåŠç´¢å¼• -&gt; æ•°æ®åº“è¡¨ç»“æ„ -&gt; ç³»ç»Ÿé…ç½® -&gt; ç¡¬ä»¶</p><h3 id="æŒ‰æ•ˆæœæ’åº-ç”±ä½åˆ°é«˜"><a href="#æŒ‰æ•ˆæœæ’åº-ç”±ä½åˆ°é«˜" class="headerlink" title="æŒ‰æ•ˆæœæ’åº(ç”±ä½åˆ°é«˜)"></a>æŒ‰æ•ˆæœæ’åº(ç”±ä½åˆ°é«˜)</h3><p>ç¡¬ä»¶ -&gt; ç³»ç»Ÿé…ç½® -&gt; æ•°æ®åº“è¡¨ç»“æ„ -&gt; SQLåŠç´¢å¼•</p><ol><li>sqlåŠç´¢å¼•ä¼˜åŒ–ã€‚ç´¢å¼•åº”è¯¥é€‚é‡ï¼Œä¸åº”å¤ªå¤šï¼Œå¦åˆ™ä¼šå½±å“æŸ¥è¯¢å’Œå†™çš„é€Ÿåº¦ï¼›</li><li>æ•°æ®åº“è¡¨ç»“æ„ï¼Œæ ¹æ®æ•°æ®è®¾è®¡æŸ¥è¯¢æœ€ä¼˜çš„è¡¨ç»“æ„ã€‚</li><li>ç³»ç»Ÿé…ç½®ä¼˜åŒ–ï¼Œå¯¹æ‰“å¼€æ–‡ä»¶æ•°å’Œå®‰å…¨çš„é™åˆ¶ã€‚</li><li>ç¡¬ä»¶ï¼Œé€‰æ‹©æœ€é€‚åˆæ•°æ®åº“çš„cpuï¼Œæ›´å¿«çš„IO,æ›´å¤§çš„å†…å­˜ï¼Œcpuä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œ IOå¹¶ä¸èƒ½å‡å°‘é”çš„æœºåˆ¶ï¼Œæ‰€ä»¥è¯´ç¡¬ä»¶çš„ä¼˜åŒ–æˆæœ¬è¶Šé«˜ï¼Œæ•ˆæœæœ€å·®ã€‚</li></ol><hr><p>ä¸‹ä¸€ç«  <a href="/MySQLæ•°æ®åº“ä¼˜åŒ–ã€2ã€‘SQLåŠç´¢å¼•ä¼˜åŒ–/">MySQLæ•°æ®åº“ä¼˜åŒ–ã€2ã€‘SQLåŠç´¢å¼•ä¼˜åŒ–</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;æ•°æ®åº“ä¼˜åŒ–æ˜¯ä¸€ä¸ªåˆä¸­çº§å¼€å‘äººå‘˜å¿…é¡»è¦äº†è§£è€Œä¸”ä¼šçš„ä¸œè¥¿ï¼Œå¹¶ä¸”è¿™ä¸ªæŠ€èƒ½åœ¨æ¯ä¸ªåç«¯å¼€å‘çš„é¢è¯•ä¸­éƒ½ä¼šé—®åˆ°çš„ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆæ•°æ®åº“ä¼˜åŒ–è¿™ä¹ˆé‡è¦ï¼Œæˆ‘ä»¬å°±ç”¨è¿™ä¸€ç³»åˆ—æ–‡ç« çœ‹ä¸€çœ‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;æ•°æ®åº“ä¼˜åŒ–çš„ç›®çš„&quot;&gt;&lt;a href=&quot;
      
    
    </summary>
    
      <category term="db" scheme="http://fengtianhe.cn/categories/db/"/>
    
    
      <category term="MySQL" scheme="http://fengtianhe.cn/tags/MySQL/"/>
    
      <category term="æ•°æ®åº“ä¼˜åŒ–" scheme="http://fengtianhe.cn/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BC%98%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>å„å¤§ä¸»è¦åº”ç”¨å¸‚åœºä¸Šæ¶åœ°å€</title>
    <link href="http://fengtianhe.cn/%E5%90%84%E5%A4%A7%E4%B8%BB%E8%A6%81%E5%BA%94%E7%94%A8%E5%B8%82%E5%9C%BA%E4%B8%8A%E6%9E%B6%E5%9C%B0%E5%9D%80/"/>
    <id>http://fengtianhe.cn/å„å¤§ä¸»è¦åº”ç”¨å¸‚åœºä¸Šæ¶åœ°å€/</id>
    <published>2018-03-12T09:03:20.000Z</published>
    <updated>2019-11-07T01:56:39.307Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1ã€è…¾è®¯åº”ç”¨å®"><a href="#1ã€è…¾è®¯åº”ç”¨å®" class="headerlink" title="1ã€è…¾è®¯åº”ç”¨å®ï»¿"></a>1ã€è…¾è®¯åº”ç”¨å®ï»¿</h2><p>è…¾è®¯å¼€æ”¾å¹³å°åœ°å€ï¼š<a href="http://open.qq.com">http://open.qq.com</a>ï»¿</p><p>æ³¨å†Œå¼€å‘è€…å¸å·åœ°å€ï¼š<a href="https://ssl.zc.qq.com/v3/index-chs.html">https://ssl.zc.qq.com/v3/index-chs.html</a></p><p>é‡è¦æç¤ºï¼šå¼€å‘è€…QQå·ç ä¸€æ—¦æ³¨å†Œä¸èƒ½å˜æ›´ï¼Œå»ºè®®ä½¿ç”¨å…¬å¸è€æ¿æˆ–æ³•äººçš„QQå·ç è€Œä¸æ˜¯å‘˜å·¥ç§äººå·ç æ³¨å†Œï¼Œä»¥å…é‡åˆ°å‘˜å·¥ç¦»èŒç­‰æƒ…å†µé€ æˆä¸å¿…è¦çš„éº»çƒ¦ã€‚2017å¹´9æœˆ18æ—¥ä»¥ååº”ç”¨ä¸Šæ¶è¦æäº¤è½¯ä»¶è‘—ä½œæƒè¯æ˜ï¼ˆåŸä»¶æ‰«æï¼‰æˆ–è€…è¯¥åº”ç”¨PCå®˜ç½‘ICPå¤‡æ¡ˆæˆªå›¾+å®˜ç½‘åœ°å€+2ä¸ªä»¥ä¸Šçš„åº”ç”¨å®ä»¥å¤–å¸‚åœºä¸Šçº¿åå°çŠ¶æ€æˆªå›¾ä»£æ›¿ï¼Œè½¯è‘—åç»­è¡¥ä¸Šã€‚å¦‚æœAPPåœ¨åº”ç”¨å®æœç´¢ä¸åˆ°ï¼ˆä¸èƒ½å¤–æ˜¾ï¼‰ï¼Œåˆ™å¿…é¡»æä¾›è½¯è‘—+ç‰ˆå·ã€‚</p><p>æ³¨å†Œå¼€å‘è€…å¸å·æ–¹æ³•ï¼š</p><p><a href="http://wiki.open.qq.com/wiki/%E6%B3%A8%E5%86%8C%E5%BC%80%E5%8F%91%E8%80%85%E5%B8%90%E5%8F%B7">http://wiki.open.qq.com/wiki/%E6%B3%A8%E5%86%8C%E5%BC%80%E5%8F%91%E8%80%85%E5%B8%90%E5%8F%B7</a></p><p>åº”ç”¨æäº¤æ–¹æ³•ï¼š<a href="http://wiki.open.qq.com/wiki/%E5%88%9B%E5%BB%BA%E6%96%B0%E5%BA%94%E7%94%A8">http://wiki.open.qq.com/wiki/%E5%88%9B%E5%BB%BA%E6%96%B0%E5%BA%94%E7%94%A8</a></p><h2 id="2ã€360æ‰‹æœºåŠ©æ‰‹"><a href="#2ã€360æ‰‹æœºåŠ©æ‰‹" class="headerlink" title="2ã€360æ‰‹æœºåŠ©æ‰‹ï»¿"></a>2ã€360æ‰‹æœºåŠ©æ‰‹ï»¿</h2><p>360å¼€æ”¾å¹³å°åœ°å€ï¼š<a href="http://dev.360.cn">http://dev.360.cn</a></p><p>æ³¨å†Œå¼€å‘è€…å¸å·åœ°å€ï¼š<a href="http://dev.360.cn">http://dev.360.cn</a></p><p>é‡è¦æç¤ºï¼šå¼€å‘è€…å¸å·ï¼Œå»ºè®®ä½¿ç”¨å…¬å¸è€æ¿æˆ–æ³•äººçš„é‚®ç®±æˆ–æ‰‹æœºï¼Œè€Œä¸æ˜¯å‘˜å·¥ç§äººé‚®ç®±æˆ–æ‰‹æœºæ³¨å†Œï¼Œä»¥å…é‡åˆ°å‘˜å·¥ç¦»èŒç­‰æƒ…å†µé€ æˆä¸å¿…è¦çš„éº»çƒ¦ã€‚ä¼ä¸šæ“ä½œäººè¦è¿›è¡Œå®åè®¤è¯ï¼Œè¦æä¾›èº«ä»½è¯å·ï¼Œé“¶è¡Œå¡å·åŠé¢„ç•™çš„æ‰‹æœºéªŒè¯ç éªŒè¯ã€‚åº”ç”¨ä¸Šæ¶å¿…é¡»è¦æäº¤360çš„ä¿è¯å‡½ã€‚</p><p>æ³¨å†Œå¼€å‘è€…å¸å·æ–¹æ³•ï¼š<a href="http://dev.360.cn/wiki">http://dev.360.cn/wiki</a></p><p>åº”ç”¨æäº¤æ–¹æ³•ï¼š<a href="http://dev.360.cn/wiki/index/id/21">http://dev.360.cn/wiki/index/id/21</a></p><h2 id="3ã€ç™¾åº¦æ‰‹æœºåŠ©æ‰‹-å®‰å“å¸‚åœº-91åŠ©æ‰‹"><a href="#3ã€ç™¾åº¦æ‰‹æœºåŠ©æ‰‹-å®‰å“å¸‚åœº-91åŠ©æ‰‹" class="headerlink" title="3ã€ç™¾åº¦æ‰‹æœºåŠ©æ‰‹/å®‰å“å¸‚åœº/91åŠ©æ‰‹ï»¿"></a>3ã€ç™¾åº¦æ‰‹æœºåŠ©æ‰‹/å®‰å“å¸‚åœº/91åŠ©æ‰‹ï»¿</h2><p>ç™¾åº¦å¼€å‘è€…å¹³å°åœ°å€ï¼š<a href="http://app.baidu.com">http://app.baidu.com</a>ï»¿</p><p>é‡è¦æç¤ºï¼šç™¾åº¦æ‰‹æœºåŠ©æ‰‹ã€91åŠ©æ‰‹ å’Œå®‰å“å¸‚åœºæ˜¯è”ç›Ÿå¹³å°ï¼Œåœ¨ç™¾åº¦å¼€å‘å¹³å°ä¸­ä¸Šä¼ APPé€šè¿‡å®¡æ ¸åï¼Œåœ¨å…¶å®ƒä¸¤ä¸ªå¹³å°ä¹Ÿå¯ä»¥æœç´¢åˆ°è‡ªå·±çš„APPã€‚è¿™é‡Œåªéœ€è¦æ³¨å†Œä¸€ä¸ªç™¾åº¦å¼€å‘è€…å¸å·å³å¯ã€‚ï»¿å¼€å‘è€…å¸å·ï¼Œå»ºè®®ä½¿ç”¨å…¬å¸è€æ¿æˆ–æ³•äººçš„é‚®ç®±æˆ–æ‰‹æœºï¼Œè€Œä¸æ˜¯å‘˜å·¥ç§äººé‚®ç®±æˆ–æ‰‹æœºæ³¨å†Œï¼Œä»¥å…é‡åˆ°å‘˜å·¥ç¦»èŒç­‰æƒ…å†µé€ æˆä¸å¿…è¦çš„éº»çƒ¦ã€‚åº”ç”¨ä¸Šæ¶å¿…é¡»è¦æäº¤ç™¾åº¦çš„ä¿è¯å‡½ã€‚</p><p>æ³¨å†Œå¼€å‘è€…å¸å·æ–¹æ³•ï¼š<a href="http://app.baidu.com/docs?id=2&amp;frompos=401003">http://app.baidu.com/docs?id=2&amp;frompos=401003</a></p><p>åº”ç”¨æäº¤æ–¹æ³•ï¼š<a href="http://app.baidu.com/docs?id=5&amp;frompos=401007">http://app.baidu.com/docs?id=5&amp;frompos=401007</a></p><h2 id="4ã€å°ç±³åº”ç”¨å•†åº—"><a href="#4ã€å°ç±³åº”ç”¨å•†åº—" class="headerlink" title="4ã€å°ç±³åº”ç”¨å•†åº—ï»¿"></a>4ã€å°ç±³åº”ç”¨å•†åº—ï»¿</h2><p>å°ç±³å¼€æ”¾å¹³å°ç½‘ç«™ï¼š<a href="https://dev.mi.com">https://dev.mi.com</a></p><p>æ³¨å†Œå¼€å‘è€…å¸å·åœ°å€ï¼š<a href="https://account.xiaomi.com/pass/register">https://account.xiaomi.com/pass/register</a></p><p>é‡è¦æç¤ºï¼šå¼€å‘è€…å¸å·ï¼Œå»ºè®®ä½¿ç”¨å…¬å¸è€æ¿æˆ–æ³•äººçš„é‚®ç®±æˆ–æ‰‹æœºï¼Œè€Œä¸æ˜¯å‘˜å·¥ç§äººé‚®ç®±æˆ–æ‰‹æœºæ³¨å†Œï¼Œä»¥å…é‡åˆ°å‘˜å·¥ç¦»èŒç­‰æƒ…å†µé€ æˆä¸å¿…è¦çš„éº»çƒ¦ã€‚ä¼ä¸šæ“ä½œäººè¦è¿›è¡Œå®åè®¤è¯ï¼Œè¦æä¾›èº«ä»½è¯å·ï¼Œé“¶è¡Œå¡å·åŠé¢„ç•™çš„æ‰‹æœºéªŒè¯ç éªŒè¯ã€‚è¯¥è®¤è¯å°†è°ƒç”¨â€œå°ç±³æ”¯ä»˜â€æœåŠ¡ï¼Œåœ¨è¯¥å°ç±³è´¦å·ä¸‹ç»‘å®šé“¶è¡Œå¡è¿›è¡Œå®åè®¤è¯ã€‚</p><p>æ³¨å†Œå¼€å‘è€…å¸å·æ–¹æ³•ï¼š<a href="https://dev.mi.com/docs/appsmarket/distribution/account_register/">https://dev.mi.com/docs/appsmarket/distribution/account_register/</a></p><p>åº”ç”¨æäº¤æ–¹æ³•ï¼š<a href="https://dev.mi.com/docs/appsmarket/distribution/app_submit/">https://dev.mi.com/docs/appsmarket/distribution/app_submit/</a>ï»¿</p><h2 id="5ã€åä¸ºåº”ç”¨å¸‚åœº"><a href="#5ã€åä¸ºåº”ç”¨å¸‚åœº" class="headerlink" title="5ã€åä¸ºåº”ç”¨å¸‚åœºï»¿"></a>5ã€åä¸ºåº”ç”¨å¸‚åœºï»¿</h2><p>åä¸ºå¼€å‘è€…è”ç›Ÿåœ°å€ï¼š<a href="http://developer.huawei.com/consumer/cn">http://developer.huawei.com/consumer/cn</a></p><p>æ³¨å†Œå¼€å‘è€…å¸å·åœ°å€ï¼š<a href="https://hwid1.vmall.com/CAS/portal/userRegister/regbyphone.html">https://hwid1.vmall.com/CAS/portal/userRegister/regbyphone.html</a></p><p>é‡è¦æç¤ºï¼šå¼€å‘è€…å¸å·ï¼Œå»ºè®®ä½¿ç”¨å…¬å¸è€æ¿æˆ–æ³•äººçš„é‚®ç®±æˆ–æ‰‹æœºï¼Œè€Œä¸æ˜¯å‘˜å·¥ç§äººé‚®ç®±æˆ–æ‰‹æœºæ³¨å†Œï¼Œä»¥å…é‡åˆ°å‘˜å·¥ç¦»èŒç­‰æƒ…å†µé€ æˆä¸å¿…è¦çš„éº»çƒ¦ã€‚åº”ç”¨ä¸Šæ¶å¿…é¡»è¦æäº¤åä¸ºçš„å…è´£å‡½ã€‚</p><p>æ³¨å†Œå¼€å‘è€…å¸å·æ–¹æ³•ï¼š</p><p><a href="http://developer.huawei.com/consumer/cn/wiki/index.php?title=%E6%B3%A8%E5%86%8C%E7%99%BB%E5%BD%95">http://developer.huawei.com/consumer/cn/wiki/index.php?title=%E6%B3%A8%E5%86%8C%E7%99%BB%E5%BD%95</a></p><p>åº”ç”¨æäº¤æ–¹æ³•ï¼š</p><p><a href="http://developer.huawei.com/consumer/cn/wiki/index.php?title=%E5%88%9B%E5%BB%BA%E5%B9%B6%E7%AE%A1%E7%90%86%E5%BA%94%E7%94%A8">http://developer.huawei.com/consumer/cn/wiki/index.php?title=%E5%88%9B%E5%BB%BA%E5%B9%B6%E7%AE%A1%E7%90%86%E5%BA%94%E7%94%A8</a></p><p>ï»¿</p><h2 id="6ã€é˜¿é‡Œåº”ç”¨å•†åº—-è±Œè±†èš-PPåŠ©æ‰‹"><a href="#6ã€é˜¿é‡Œåº”ç”¨å•†åº—-è±Œè±†èš-PPåŠ©æ‰‹" class="headerlink" title="6ã€é˜¿é‡Œåº”ç”¨å•†åº—/è±Œè±†èš/PPåŠ©æ‰‹ï»¿"></a>6ã€é˜¿é‡Œåº”ç”¨å•†åº—/è±Œè±†èš/PPåŠ©æ‰‹ï»¿</h2><p>é˜¿é‡Œå¼€å‘è€…å¹³å°åœ°å€ï¼š<a href="http://open.uc.cn">http://open.uc.cn</a></p><p>é‡è¦æç¤ºï¼šé˜¿é‡Œåº”ç”¨åˆ†å‘ æ•´åˆäº† è±Œè±†èšã€é˜¿é‡Œä¹æ¸¸ã€PPåŠ©æ‰‹ã€UCåº”ç”¨å•†åº—ã€ç¥é©¬æœç´¢ï¼Œå¹¶è”åˆYunOSåº”ç”¨å•†åº—ç­‰åº”ç”¨åˆ†å‘å¹³å°ï¼Œå®ç°å…¨æµé‡çŸ©é˜µå¸ƒå±€ã€‚è¿™é‡Œåªéœ€è¦æ³¨å†Œä¸€ä¸ªé˜¿é‡Œå¼€å‘è€…å¸å·å³å¯ã€‚ï»¿</p><p>æ³¨å†Œå¼€å‘è€…å¸å·åœ°å€ï¼š<a href="https://reg.taobao.com/member/reg/fill_mobile.htm">https://reg.taobao.com/member/reg/fill_mobile.htm</a></p><p>é‡è¦æç¤ºï¼šå¼€å‘è€…å¸å·ï¼Œå»ºè®®ä½¿ç”¨å…¬å¸è€æ¿æˆ–æ³•äººçš„é‚®ç®±æˆ–æ‰‹æœºï¼Œè€Œä¸æ˜¯å‘˜å·¥ç§äººé‚®ç®±æˆ–æ‰‹æœºæ³¨å†Œï¼Œä»¥å…é‡åˆ°å‘˜å·¥ç¦»èŒç­‰æƒ…å†µé€ æˆä¸å¿…è¦çš„éº»çƒ¦ã€‚ä¼ä¸šæ“ä½œäººè¦è¿›è¡Œå®åè®¤è¯ï¼Œç”¨æ”¯ä»˜å®æ‰«æäºŒç»´ç è¿›è¡Œå®åè®¤è¯ã€‚åº”ç”¨ä¸Šæ¶å¿…é¡»è¦æäº¤é˜¿é‡Œçš„ä¿è¯å‡½ã€‚</p><p>æ³¨å†Œå¼€å‘è€…å¸å·æ–¹æ³•ï¼š<a href="http://aliapp.open.uc.cn/wiki/?p=35">http://aliapp.open.uc.cn/wiki/?p=35</a></p><p>åº”ç”¨æäº¤æ–¹æ³•ï¼š<a href="http://aliapp.open.uc.cn/wiki/?p=40">http://aliapp.open.uc.cn/wiki/?p=40</a></p><h2 id="7ã€ä¸‰æ˜Ÿåº”ç”¨å•†åº—"><a href="#7ã€ä¸‰æ˜Ÿåº”ç”¨å•†åº—" class="headerlink" title="7ã€ä¸‰æ˜Ÿåº”ç”¨å•†åº—ï»¿"></a>7ã€ä¸‰æ˜Ÿåº”ç”¨å•†åº—ï»¿</h2><p>ä¸‰æ˜Ÿå¼€å‘è€…å¹³å°åœ°å€ï¼š<a href="http://support-cn.samsung.com/App/DeveloperChina/Home/Index">http://support-cn.samsung.com/App/DeveloperChina/Home/Index</a></p><p>é‡è¦æç¤ºï¼šå…¨çƒå¼€å‘è€…:åªæœ‰å½“æ‚¨ä¸ Samsung Electronics Co. æœ‰åˆä½œå…³ç³»ï¼Œæ‰åº”é€‰æ‹©å…¨çƒå¼€å‘è€…ç±»å‹ã€‚å®Œæˆå–å®¶æ³¨å†Œåï¼šè¯·è”ç³»æ‚¨çš„ä¸‰æ˜Ÿå¯¹æ‰‹æ–¹ä»¥æ‰¹å‡†ä¸‰æ˜Ÿåº”ç”¨å•†åº—çš„åˆä½œä¼™ä¼´å…³ç³»è¯·æ±‚ã€‚å¦‚æœæ— æ³•ç¡®è®¤æ‚¨çš„åˆä½œå…³ç³»ï¼Œæ‚¨å¿…é¡»é‡æ–°æ³¨å†Œä¼šå‘˜èµ„æ ¼ã€‚</p><p>ä¸»é¢˜å¼€å‘è€…: ä¸»é¢˜å¼€å‘è€…ç±»å‹çš„å–å®¶åªèƒ½ä½¿ç”¨ä¸‰æ˜ŸSDKæ³¨å†Œåº”ç”¨ç¨‹åºï¼Œä½†å¯ä»¥å°†åº”ç”¨ç¨‹åºé”€å”®åˆ°æ‰€æœ‰å›½å®¶/åœ°åŒºã€‚</p><p>ä¸­å›½å¼€å‘è€…: ä¸­å›½å¼€å‘è€…ç±»å‹çš„å–å®¶å¯æ³¨å†Œä¸ä½¿ç”¨ä¸‰æ˜ŸSDKçš„åº”ç”¨ç¨‹åºï¼Œä½†åªå¯å°†åº”ç”¨ç¨‹åºå‡ºå”®åˆ°ä¸­å›½ã€‚ï»¿</p><p>æ³¨å†Œå¼€å‘è€…å¸å·åœ°å€ï¼š<a href="https://seller.samsungapps.com/join/joinNow.as">https://seller.samsungapps.com/join/joinNow.as</a></p><p>é‡è¦æç¤ºï¼šå¼€å‘è€…å¸å·ï¼Œå»ºè®®ä½¿ç”¨å…¬å¸è€æ¿æˆ–æ³•äººçš„é‚®ç®±æˆ–æ‰‹æœºï¼Œè€Œä¸æ˜¯å‘˜å·¥ç§äººé‚®ç®±æˆ–æ‰‹æœºæ³¨å†Œï¼Œä»¥å…é‡åˆ°å‘˜å·¥ç¦»èŒç­‰æƒ…å†µé€ æˆä¸å¿…è¦çš„éº»çƒ¦ã€‚æ³•äººå’Œè”ç³»äººè¦åŒæ‰‹æŒèº«ä»½è¯æ‹ç…§ï¼Œè¦éœ²å‡ºåŒè‡‚ï¼Œç…§ç‰‡ä¸èƒ½ç”¨è½¯ä»¶å¤„ç†ã€‚</p><p>æ³¨å†Œå¼€å‘è€…å¸å·æ–¹æ³•ï¼š</p><p><a href="http://support-cn.samsung.com/App/DeveloperChina/home/list?parentid=11&amp;newsid=38">http://support-cn.samsung.com/App/DeveloperChina/home/list?parentid=11&amp;newsid=38</a></p><p>åº”ç”¨æäº¤æ–¹æ³•ï¼šï¼ˆéœ€è¦ä¸‹è½½ä¸‰æ˜Ÿåº”ç”¨å•†åº—ä¸Šä¼ æ‰‹å†Œï¼‰</p><p><a href="http://support-cn.samsung.com/App/DeveloperChina/home/list?parentid=11&amp;newsid=11">http://support-cn.samsung.com/App/DeveloperChina/home/list?parentid=11&amp;newsid=11</a></p><h2 id="8ã€OPPOåº”ç”¨å•†åº—"><a href="#8ã€OPPOåº”ç”¨å•†åº—" class="headerlink" title="8ã€OPPOåº”ç”¨å•†åº—ï»¿"></a>8ã€OPPOåº”ç”¨å•†åº—ï»¿</h2><p>OPPOå¼€å‘è€…è”ç›Ÿåœ°å€ï¼š<a href="http://open.oppomobile.com">http://open.oppomobile.com</a></p><p>æ³¨å†Œå¼€å‘è€…å¸å·åœ°å€ï¼š<a href="http://open.oppomobile.com/newuser/signup">http://open.oppomobile.com/newuser/signup</a></p><p>é‡è¦æç¤ºï¼šå¼€å‘è€…å¸å·ï¼Œå»ºè®®ä½¿ç”¨å…¬å¸è€æ¿æˆ–æ³•äººçš„é‚®ç®±æˆ–æ‰‹æœºï¼Œè€Œä¸æ˜¯å‘˜å·¥ç§äººé‚®ç®±æˆ–æ‰‹æœºæ³¨å†Œï¼Œä»¥å…é‡åˆ°å‘˜å·¥ç¦»èŒç­‰æƒ…å†µé€ æˆä¸å¿…è¦çš„éº»çƒ¦ã€‚å¿…é¡»è¦è½¯ä»¶è‘—ä½œæƒï¼Œæ²¡æœ‰è½¯è‘—åˆ™å¯ä»¥è¯•ç€åœ¨åå°è¡¥äº¤ï¼ˆåä¸ºã€å°ç±³ã€åº”ç”¨å®ï¼‰ä¸‰å®¶ä¸­çš„ä¸¤å®¶åå°ä¸Šæ¶æˆªå›¾ä½œä¸ºè¾…åŠ©ä¾æ®ä¸Šæ¶ï¼Œç¢°ç¢°è¿æ°”ã€‚åº”ç”¨ä¸Šæ¶å¿…é¡»è¦æäº¤OPPOçš„å…è´£å‡½ã€‚</p><p>æ³¨å†Œå¼€å‘è€…å¸å·æ–¹æ³•ï¼š<a href="http://open.oppomobile.com/doc/index?idx=0&amp;item=39">http://open.oppomobile.com/doc/index?idx=0&amp;item=39</a></p><p>åº”ç”¨æäº¤æ–¹æ³•ï¼š<a href="http://jingyan.baidu.com/article/d169e186656065436611d897.html">http://jingyan.baidu.com/article/d169e186656065436611d897.html</a></p><h2 id="9ã€ViVOåº”ç”¨å•†åº—"><a href="#9ã€ViVOåº”ç”¨å•†åº—" class="headerlink" title="9ã€ViVOåº”ç”¨å•†åº—ï»¿"></a>9ã€ViVOåº”ç”¨å•†åº—ï»¿</h2><p>ViVOå¼€å‘è€…è”ç›Ÿåœ°å€ï¼š<a href="https://dev.vivo.com.cn">https://dev.vivo.com.cn</a></p><p>æ³¨å†Œå¼€å‘è€…å¸å·åœ°å€ï¼š</p><p><a href="https://id.vivo.com.cn/?callback=http://dev.vivo.com.cn&amp;registerSource=1&amp;_201707171541#!/access/register">https://id.vivo.com.cn/?callback=http://dev.vivo.com.cn&amp;registerSource=1&amp;_201707171541#!/access/register</a></p><p>é‡è¦æç¤ºï¼šå¼€å‘è€…å¸å·ï¼Œå»ºè®®ä½¿ç”¨å…¬å¸è€æ¿æˆ–æ³•äººçš„é‚®ç®±æˆ–æ‰‹æœºï¼Œè€Œä¸æ˜¯å‘˜å·¥ç§äººé‚®ç®±æˆ–æ‰‹æœºæ³¨å†Œï¼Œä»¥å…é‡åˆ°å‘˜å·¥ç¦»èŒç­‰æƒ…å†µé€ æˆä¸å¿…è¦çš„éº»çƒ¦ã€‚è¦è®°å¾—å¡«å†™è”ç³»äººä¿¡æ¯ã€‚</p><p>æ³¨å†Œå¼€å‘è€…å¸å·æ–¹æ³•ï¼š<a href="https://dev.vivo.com.cn/doc/document/info">https://dev.vivo.com.cn/doc/document/info</a></p><p>åº”ç”¨æäº¤æ–¹æ³•ï¼š<a href="https://dev.vivo.com.cn/doc/document/info?id=52">https://dev.vivo.com.cn/doc/document/info?id=52</a></p><h2 id="10ã€è”æƒ³åº”ç”¨å•†åº—"><a href="#10ã€è”æƒ³åº”ç”¨å•†åº—" class="headerlink" title="10ã€è”æƒ³åº”ç”¨å•†åº—ï»¿"></a>10ã€è”æƒ³åº”ç”¨å•†åº—ï»¿</h2><p>è”æƒ³å¼€å‘è€…è”ç›Ÿåœ°å€ï¼š<a href="http://open.lenovo.com">http://open.lenovo.com</a></p><p>æ³¨å†Œå¼€å‘è€…å¸å·åœ°å€ï¼š<a href="https://passport.lenovo.com/wauthen2/wauth/jsp/register.jsp">https://passport.lenovo.com/wauthen2/wauth/jsp/register.jsp</a></p><p>é‡è¦æç¤ºï¼šå¼€å‘è€…å¸å·ï¼Œå»ºè®®ä½¿ç”¨å…¬å¸è€æ¿æˆ–æ³•äººçš„é‚®ç®±æˆ–æ‰‹æœºï¼Œè€Œä¸æ˜¯å‘˜å·¥ç§äººé‚®ç®±æˆ–æ‰‹æœºæ³¨å†Œï¼Œä»¥å…é‡åˆ°å‘˜å·¥ç¦»èŒç­‰æƒ…å†µé€ æˆä¸å¿…è¦çš„éº»çƒ¦ã€‚åº”ç”¨ä¸Šæ¶å¿…é¡»è¦æäº¤è”æƒ³çš„å…è´£å‡½ã€‚</p><p>æ³¨å†Œå¼€å‘è€…å¸å·æ–¹æ³•ï¼š<a href="http://open.lenovo.com/developer/adp/helpData/database_detail.jsp?url=http://open.lenovo.com/sdk/zhzc/">http://open.lenovo.com/developer/adp/helpData/database_detail.jsp?url=http://open.lenovo.com/sdk/zhzc/</a></p><p>åº”ç”¨æäº¤æ–¹æ³•ï¼š <a href="http://open.lenovo.com/developer/adp/helpData/database_detail.jsp?url=http://open.lenovo.com/sdk/?p=796">http://open.lenovo.com/developer/adp/helpData/database_detail.jsp?url=http://open.lenovo.com/sdk/?p=796</a></p><h2 id="11ã€é­…æ—åº”ç”¨å•†åº—"><a href="#11ã€é­…æ—åº”ç”¨å•†åº—" class="headerlink" title="11ã€é­…æ—åº”ç”¨å•†åº—ï»¿"></a>11ã€é­…æ—åº”ç”¨å•†åº—ï»¿</h2><p>é­…æ—å¼€å‘è€…è”ç›Ÿåœ°å€ï¼š<a href="http://open.flyme.cn">http://open.flyme.cn</a></p><p>æ³¨å†Œå¼€å‘è€…å¸å·åœ°å€ï¼š<a href="https://i.flyme.cn/register">https://i.flyme.cn/register</a></p><p>é‡è¦æç¤ºï¼šå¼€å‘è€…å¸å·ï¼Œå»ºè®®ä½¿ç”¨å…¬å¸è€æ¿æˆ–æ³•äººçš„é‚®ç®±æˆ–æ‰‹æœºï¼Œè€Œä¸æ˜¯å‘˜å·¥ç§äººé‚®ç®±æˆ–æ‰‹æœºæ³¨å†Œï¼Œä»¥å…é‡åˆ°å‘˜å·¥ç¦»èŒç­‰æƒ…å†µé€ æˆä¸å¿…è¦çš„éº»çƒ¦ã€‚åº”ç”¨ä¸Šæ¶å¿…é¡»è¦æäº¤é­…æ—çš„å…è´£å‡½ã€‚</p><p>æ³¨å†Œå¼€å‘è€…å¸å·æ–¹æ³•ï¼š <a href="http://open-wiki.flyme.cn/index.php?title=%E6%96%B0%E6%89%8B%E6%8C%87%E5%8D%97">http://open-wiki.flyme.cn/index.php?title=%E6%96%B0%E6%89%8B%E6%8C%87%E5%8D%97</a></p><p>åº”ç”¨æäº¤æ–¹æ³•ï¼š <a href="http://open-wiki.flyme.cn/index.php?title=%E5%BA%94%E7%94%A8%E5%8F%91%E5%B8%83">http://open-wiki.flyme.cn/index.php?title=%E5%BA%94%E7%94%A8%E5%8F%91%E5%B8%83</a></p><h2 id="12ã€é‡‘ç«‹åº”ç”¨å•†åº—"><a href="#12ã€é‡‘ç«‹åº”ç”¨å•†åº—" class="headerlink" title="12ã€é‡‘ç«‹åº”ç”¨å•†åº—ï»¿"></a>12ã€é‡‘ç«‹åº”ç”¨å•†åº—ï»¿</h2><p>é‡‘ç«‹å¼€å‘è€…è”ç›Ÿåœ°å€ï¼š<a href="https://open.appgionee.com">https://open.appgionee.com</a></p><p>æ³¨å†Œå¼€å‘è€…å¸å·åœ°å€ï¼š<a href="https://open.appgionee.com/cp/register">https://open.appgionee.com/cp/register</a></p><p>é‡è¦æç¤ºï¼šå¼€å‘è€…å¸å·ï¼Œå»ºè®®ä½¿ç”¨å…¬å¸è€æ¿æˆ–æ³•äººçš„é‚®ç®±æˆ–æ‰‹æœºï¼Œè€Œä¸æ˜¯å‘˜å·¥ç§äººé‚®ç®±æˆ–æ‰‹æœºæ³¨å†Œï¼Œä»¥å…é‡åˆ°å‘˜å·¥ç¦»èŒç­‰æƒ…å†µé€ æˆä¸å¿…è¦çš„éº»çƒ¦ã€‚åº”ç”¨ä¸Šæ¶å¿…é¡»è¦æäº¤é‡‘ç«‹çš„æ‰¿è¯ºä¹¦ã€‚</p><p>æ³¨å†Œå¼€å‘è€…å¸å·æ–¹æ³•ï¼š <a href="https://open.appgionee.com/cp/help">https://open.appgionee.com/cp/help</a></p><p>åº”ç”¨æäº¤æ–¹æ³•ï¼š <a href="https://open.appgionee.com/cp/help">https://open.appgionee.com/cp/help</a></p><p>æ„Ÿè§‰åä¸ºã€å°ç±³å¯¹èµ„æ–™çš„è¦æ±‚æ˜¯æœ€ä¸¥æ ¼çš„ï¼›ç„¶åæ˜¯360ã€é­…æ—ã€é˜¿é‡Œï¼Œå¦‚æœä½ çš„åº”ç”¨ç¨‹åºæ˜¯æ‰¹é‡åˆ¶ä½œçš„ï¼Œä½¿ç”¨å•ä¸€æˆ–å‡ ä¸ªæ¨¡æ¿ç”Ÿæˆçš„ï¼Œæˆ–ç”¨ç®€å•æ–‡å­—ã€å›¾ç‰‡æ‰“åŒ…è€Œæˆçš„è¯ï¼Œå®ƒå¯ä»¥æ£€æµ‹å‡ºæ¥ï¼Œå¹¶ä¸”ä¸ä¼šè®©ä½ é€šè¿‡å®¡æ ¸ã€‚</p><p>è”æƒ³å’Œvivoåº”è¯¥ç®—æ˜¯æœ€å¥½é€šè¿‡çš„ã€‚ï»¿ï»¿ç™¾åº¦ã€å°ç±³ã€åä¸ºã€é­…æ—çš„å¼€å‘è€…å¸å·å®¡æ ¸ç›¸å¯¹æ…¢ä¸€ç‚¹ï¼Œé˜¿é‡Œã€360è·Ÿè…¾è®¯è¿˜ç®—æ¯”è¾ƒå¿«çš„ï¼Œä¸Šæ¶åº”ç”¨å®¡æ ¸æ—¶é—´ä¹Ÿç›¸å¯¹æ¯”è¾ƒå¿«ã€‚åªè¦èµ„æ–™å…¨ï¼Œå…¶å®å¾ˆå®¹æ˜“é€šè¿‡çš„ã€‚ï»¿åº”ç”¨å®¡æ ¸ï¼ŒOPPOè¦æ±‚è¦è½¯è‘—ï¼Œå®¡æ ¸ä¸Šæ¶ä¸æ˜“ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;1ã€è…¾è®¯åº”ç”¨å®&quot;&gt;&lt;a href=&quot;#1ã€è…¾è®¯åº”ç”¨å®&quot; class=&quot;headerlink&quot; title=&quot;1ã€è…¾è®¯åº”ç”¨å®ï»¿&quot;&gt;&lt;/a&gt;1ã€è…¾è®¯åº”ç”¨å®ï»¿&lt;/h2&gt;&lt;p&gt;è…¾è®¯å¼€æ”¾å¹³å°åœ°å€ï¼š&lt;a href=&quot;http://open.qq.com&quot;&gt;http://ope
      
    
    </summary>
    
      <category term="others" scheme="http://fengtianhe.cn/categories/others/"/>
    
    
  </entry>
  
</feed>
